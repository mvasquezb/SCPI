(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],u=0,f=[];u<r.length;u++)s=r[u],i[s]&&f.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},o=[];function s(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"69260e02","chunk-2d219ff9":"18ca560f"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise(function(e,n){a=i[t]=[e,n]});e.push(a[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=s(t),o=function(e){c.onerror=c.onload=null,clearTimeout(l);var a=i[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+n+": "+o+")");s.type=n,s.request=o,a[1](s)}i[t]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:c})},12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0036":function(t,e,a){"use strict";var n=a("9825"),i=a.n(n);i.a},"0251":function(t,e,a){"use strict";var n=a("90b5"),i=a.n(n);i.a},"040d":function(t,e,a){"use strict";var n=a("617b"),i=a.n(n);i.a},"0570":function(t,e,a){},"0b1d":function(t,e,a){},"0da9":function(t,e,a){},"0e00":function(t,e,a){},"0ffe":function(t,e,a){},"108c":function(t,e,a){},"10b9":function(t,e,a){},"11d0":function(t,e,a){"use strict";var n=a("e4be"),i=a.n(n);i.a},1749:function(t,e,a){"use strict";var n=a("5dc2"),i=a.n(n);i.a},1840:function(t,e,a){"use strict";var n=a("4838"),i=a.n(n);i.a},"1e25":function(t,e,a){"use strict";var n=a("10b9"),i=a.n(n);i.a},"20b1":function(t,e,a){"use strict";var n=a("7d59"),i=a.n(n);i.a},"21bb":function(t,e,a){"use strict";var n=a("bcc9"),i=a.n(n);i.a},"24fa":function(t,e,a){"use strict";var n=a("e446"),i=a.n(n);i.a},"2e7c":function(t,e,a){"use strict";var n=a("3afe"),i=a.n(n);i.a},"2eda":function(t,e,a){},3251:function(t,e,a){"use strict";var n=a("b0f1"),i=a.n(n);i.a},"35c0":function(t,e,a){"use strict";var n=a("7c5b"),i=a.n(n);i.a},"3afe":function(t,e,a){},4214:function(t,e,a){},4536:function(t,e,a){"use strict";var n=a("54a1"),i=a.n(n);i.a},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=o(t);return a(e)}function o(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id="4678"},4838:function(t,e,a){},"4ee2":function(t,e,a){"use strict";var n=a("4214"),i=a.n(n);i.a},"500c":function(t,e,a){"use strict";var n=a("108c"),i=a.n(n);i.a},"50ba":function(t,e,a){"use strict";var n=a("f87b"),i=a.n(n);i.a},"54a1":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var n,i,o=a("f499"),s=a.n(o),r=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"nav-open":t.$sidebar.showSidebar}},[a("notifications"),t.loading?a("LoadingSpinner"):t._e(),a("router-view")],1)},l=[],u=a("cebc"),d=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-container d-flex justify-content-center align-items-center"},[a("div",{staticClass:"spinner-border text-dark",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Cargando...")])])])}],p=(a("f088"),a("2877")),h={},v=Object(p["a"])(h,d,f,!1,null,null,null),m=v.exports,b=a("2f62"),g=a("bc3a"),C=a.n(g),y=C.a.create({baseURL:"/api"}),_=y,O={components:{LoadingSpinner:m},computed:Object(u["a"])({},Object(b["c"])(["loading","operationError","operationSuccessful"])),watch:{operationError:function(){this.operationError&&this.$notify({message:this.operationError,type:"danger"})}},mounted:function(){_.head("probe").then(function(t){return console.log(t)})}},j=O,k=(a("5c0b"),Object(p["a"])(j,c,l,!1,null,null,null)),w=k.exports,S=a("8c4f"),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("LoadingSpinner"):t._e(),t.hasOpenShift?a("div",{staticClass:"home bg-white"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("h4",[t._v("Turno "+t._s(t.shift.code))])])]),a("div",{staticClass:"row top-content"},[a("div",{staticClass:"col-10 bg-nude general-info"},[a("div",{staticClass:"row bg-white general-info-tools"},[a("OvenData",{attrs:{data:t.ovenData}})],1),a("div",{staticClass:"row bg-white general-info-tools"},[a("ClassificationData",{attrs:{classification:t.currentClassData}})],1)]),a("div",{staticClass:"col-2 bg-nude pieces-indicator"},[a("DataIndicactor",{attrs:{title:"Nro. Piezas",value:t.totalClassifiedPieces}})],1)]),a("div",{staticClass:"row bottom-container"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row bg-nude overflow-hidden"},t._l(t.visibleOvens,function(t){return a("Oven",{key:t.id,staticClass:"col-md-6 oven",attrs:{oven:t}})}),1),a("div",{staticClass:"row bg-nude shift-info-actions"},[a("div",{staticClass:"col-md-9 bg-white d-flex piece-counters"},t._l(t.shift.pieceClassifications,function(t,e,n){return a("ClassifiedCounter",{key:n,attrs:{title:e,value:t}})}),1),a("div",{staticClass:"col-md-3 text-center"},[a("button",{staticClass:"btn btn-end-shift btn-danger-custom",on:{click:t.endShift}},[t._v("Terminar Turno")])])])])])]):t.creatingShift?t._e():a("div",{staticClass:"text-center"},[a("h4",[t._v("Por favor, inicie un turno para poder acceder a esta sección")]),a("button",{staticClass:"btn btn-info",on:{click:t.createShiftStart}},[t._v("Iniciar Turno")])]),t.creatingShift?a("CreateShiftForm",{staticClass:"form-wizard"}):t._e()],1)},$=[],E=a("db0c"),L=a.n(E),D=a("a4bb"),P=a.n(D),R=a("d225"),T=a("b0b4"),q=a("308d"),M=a("6bb5"),W=a("4e2b"),I=a("60a3"),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-white oven"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("h4",[t._v(t._s(t.oven.code))])]),t._m(0),t._m(1)]),a("div",{staticClass:"row"},[a("WagonList",{staticClass:"col-9 wagons",attrs:{wagons:t.oven.wagons},on:{wagonSelect:t.selectWagon}}),a("div",{staticClass:"col-3 wagon-indicators"},[a("DataIndicator",{attrs:{title:"Vagoneta Inicial",value:t.startWagon}}),a("DataIndicator",{attrs:{title:"Vagoneta Actual",value:t.currentWagon}})],1)],1)])},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-7 text-center d-flex align-items-center"},[a("p",{staticClass:"text-dark m-0"},[t._v("Seleccione la vagoneta a clasificar")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-2 text-right"},[a("h4",[t._v("*Prod")])])}],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wagon-container"},t._l(t.wagons,function(e){return a("p",{key:e.id,staticClass:"wagon bg-nude",class:{selected:t.selectedWagon==e},on:{click:function(a){return t.selectCurrentWagon(e)}}},[t._v("Vagoneta "+t._s(e.code))])}),0)},Q=[],N={props:{wagons:{type:Array,default:function(){return[]}}},data:function(){return{selectedWagon:null}},methods:{selectCurrentWagon:function(t){this.selectedWagon=t,this.$emit("wagonSelect",t)}}},V=N,B=(a("e82b"),Object(p["a"])(V,A,Q,!1,null,null,null)),Z=B.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"indicator-container",class:t.size},[a("p",{staticClass:"title"},[t._v(t._s(t.title))]),a("p",{staticClass:"value"},[t._v(t._s(t.value))])])},U=[],K={props:{title:{type:String,default:""},value:{default:""},size:{type:String,default:"regular"}}},G=K,J=(a("cd51"),Object(p["a"])(G,H,U,!1,null,"3c80076c",null)),Y=J.exports,X={props:{oven:{type:Object,required:!0}},data:function(){return{selectedWagon:null}},components:{WagonList:Z,DataIndicator:Y},computed:Object(u["a"])({},Object(b["c"])(["currentClassification","startWagonsPerOven","productsPerWagon"]),{startWagon:function(){return this.startWagonsPerOven[this.oven.id].code},currentWagon:function(){return this.currentClassification.currentWagon?this.currentClassification.currentWagon.code:""}}),methods:Object(u["a"])({},Object(b["b"])(["createClassification","loadProductsForWagon"]),{selectWagon:function(t){this.selectedWagon=t},startQualityCheck:function(){this.createClassification({oven:this.oven,wagon:this.selectedWagon}),this.$router.push("quality-check")},wagonHasProducts:function(t){var e=t.filter(function(t){return t.quantity>t.classifiedPieces});return e.length>0}}),watch:{selectedWagon:function(){var t=this;if(null!=this.selectedWagon){var e="".concat(this.oven.id,":").concat(this.selectedWagon.id);this.productsPerWagon[e]?this.wagonHasProducts(this.productsPerWagon[e])?this.startQualityCheck():this.$notify({message:"No hay piezas en esta vagoneta",type:"danger"}):this.loadProductsForWagon({ovenId:this.oven.id,wagonId:this.selectedWagon.id}).then(function(e){0!=e.length?t.startQualityCheck():t.$notify({message:"No hay piezas en esta vagoneta",type:"danger"})})}}}},tt=X,et=(a("d55a"),Object(p["a"])(tt,F,z,!1,null,null,null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"counter-container bg-nude"},[a("p",{staticClass:"title"},[t._v(t._s(t.title.toUpperCase().slice(0,3))+":")]),a("p",{staticClass:"value"},[t._v(t._s(t.value))])])},it=[],ot=(a("c5f6"),{props:{title:{type:String,default:""},value:{type:Number,default:0}}}),st=ot,rt=(a("bf28"),Object(p["a"])(st,nt,it,!1,null,"82a09c26",null)),ct=rt.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-white oven-data"},[t._m(0),a("div",{staticClass:"bg-nude oven-item"},[a("p",[t._v("Modelo")]),t.data.productModel?a("p",[t._v(t._s(t.data.productModel.code))]):t._e()]),a("div",{staticClass:"bg-nude oven-item"},[a("p",[t._v("Color")]),t.data.color?a("p",[t._v(t._s(t.data.color.name))]):t._e()]),t._l(t.visibleInfoItems,function(t,e){return a("DataIndicator",{key:e,staticClass:"bg-nude oven-item",attrs:{title:t.title,value:t.value?t.value.code:String.fromCharCode(160),size:"small"}})})],2)},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oven-item col-2"},[a("p",[t._v("Última clasificación")])])}],dt={components:{DataIndicator:Y},props:{data:{type:Object,default:function(){}}},computed:{visibleInfoItems:function(){return[{title:"Horno",value:this.data.currentOven},{title:"Colador",value:this.data.castOperator},{title:"Barnizador",value:this.data.coatOperator},{title:"Pulidor",value:this.data.polishOperator}]}},methods:{}},ft=dt,pt=(a("1e25"),Object(p["a"])(ft,lt,ut,!1,null,"c439a6a0",null)),ht=pt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-white classification-data"},[t._m(0),a("div",{staticClass:"data-container col-10 d-flex justify-content-between"},t._l(t.visibleInfoItems,function(t,e){return a("DataIndicator",{key:e,staticClass:"bg-nude classification-item",attrs:{title:t.title,value:t.value.repr,size:"small"}})}),1)])},mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"classification-item col-2"},[a("p",[t._v("Calidad")])])}],bt=(a("f576"),a("0a0d")),gt=a.n(bt),Ct={components:{DataIndicator:Y},props:{classification:{type:Object,default:function(){}}},data:function(){return{quantity:this.classification.quantity,defect:this.classification.defect,location:this.classification.defect.affectedZone,wagon:this.classification.wagon,date:gt()()}},computed:{visibleInfoItems:function(){return[{title:"Cantidad",value:{repr:this.quantity||"-"}},{title:"Defecto",value:Object(u["a"])({},this.defect,{repr:this.defect&&this.defect.defectType?this.defect.defectType.code:"-"})},{title:"Ubicación",value:Object(u["a"])({},this.location,{repr:this.location?this.location.code.padStart(2,"0"):"-"})},{title:"Vagoneta",value:Object(u["a"])({},this.wagon,{repr:this.wagon?this.wagon.code:"-"})}]}}},yt=Ct,_t=(a("1840"),Object(p["a"])(yt,vt,mt,!1,null,"4c883123",null)),Ot=_t.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form-wizard",{attrs:{title:"Iniciar turno de clasificación",subtitle:"",nextButtonText:"Siguiente",backButtonText:"Atrás",finishButtonText:"Finalizar",color:"#3498db"},on:{"on-complete":t.onComplete}},[a("tab-content",{attrs:{title:"Crear Turno",beforeChange:function(){return t.validateStep("shiftStep")}}},[a("CreateShift",{ref:"shiftStep"})],1),a("tab-content",{attrs:{title:"Seleccionar Vagoneta Inicial",beforeChange:function(){return t.validateStep("wagonStep")}}},t._l(t.factoryOvens,function(t){return a("SelectWagon",{key:t.id,ref:"wagonStep",refInFor:!0,attrs:{oven:t}})}),1)],1)},kt=[],wt=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-5 d-flex"},[a("b-form",{staticClass:"shift-form",attrs:{novalidate:""}},[a("b-form-group",{attrs:{id:"shift-code",label:"Clave Turno","label-for":"shift-input"}},[a("b-form-input",{ref:"input",class:{"is-invalid":t.$v.shiftCode.$invalid},attrs:{id:"shift-input",placeholder:"Turno",required:""},model:{value:t.shiftCode,callback:function(e){t.shiftCode=e},expression:"shiftCode"}}),t.$v.shiftCode.required?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("Debe ingresar el código del turno")]),t.$v.shiftCode.maxLength?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("El código del turno debe tener máximo 5 caracteres")])],1)],1)],1),a("div",{staticClass:"col-7"},[a("vue-touch-keyboard",{attrs:{layout:t.layout,cancel:t.clear,input:t.input}})],1)])])}),St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h5",{staticClass:"col-6"},[t._v("Ingreso a la sesión de turno")])])}],xt=a("b5ae"),$t={data:function(){return{shiftCode:"",layout:{_meta:{backspace:{func:"backspace",classes:"control"},clear:{func:"cancel",text:"Limpiar",classes:"control featured"}},default:["A O 1 2 3 {backspace}","E U 4 5 6 {clear}","I - 7 8 9 0"]},input:null}},methods:{onShiftCreate:function(){this.$store.state.tmpShiftCode=this.shiftCode},clear:function(){this.shiftCode=""},validate:function(){this.$v.form.$touch();var t=!this.$v.form.$invalid;return this.$emit("on-validate",this.$data,t),t&&this.onShiftCreate(),t}},mounted:function(){this.input=this.$refs["input"].$refs["input"]},watch:{shiftCode:function(){this.$store.state.tmpShiftCode=this.shiftCode}},validations:{shiftCode:{required:xt["required"],maxLength:Object(xt["maxLength"])(5)},form:["shiftCode"]}},Et=$t,Lt=(a("c6bb"),Object(p["a"])(Et,wt,St,!1,null,null,null)),Dt=Lt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-5 d-flex"},[a("b-form",{staticClass:"wagon-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.onWagonSelected(e)}}},[a("p",{staticClass:"d-inline-block font-weight-bold"},[t._v("Horno:")]),a("p",{staticClass:"d-inline-block"},[t._v(t._s(t.oven.code))]),a("b-form-group",{attrs:{id:"wagon-code",label:"Vagoneta Inicial","label-for":"wagon-input"}},[a("b-form-input",{ref:"input",class:{"is-invalid":t.$v.startWagon.$invalid},attrs:{id:"wagon-input",placeholder:"Vagoneta",required:""},model:{value:t.startWagon,callback:function(e){t.startWagon=e},expression:"startWagon"}}),t.$v.startWagon.positiveInteger?t._e():a("span",{staticClass:"help-block error"},[t._v("El número de vagoneta debe ser un número entero positivo.")]),t.$v.startWagon.upperLimit?t._e():a("span",{staticClass:"help-block error"},[t._v("El número máximo de vagoneta para este horno es "+t._s(this.oven.wagons.length)+".")])],1)],1)],1),a("div",{staticClass:"col-7 w-100"},[a("div",{staticClass:"row"},[a("vue-touch-keyboard",{staticClass:"w-100",attrs:{layout:t.layout,cancel:t.clear,input:t.input}})],1)])])])},Rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h5",{staticClass:"col-6"},[t._v("Seleccionar Vagoneta Inicial")])])}],Tt=a("e814"),qt=a.n(Tt),Mt=function(t){return!isNaN(qt()(t))&&qt()(t)>=0},Wt=function(t){return function(e){return e<=t.wagons.length}},It={props:{oven:{type:Object,required:!0}},data:function(){return{startWagon:"",layout:{_meta:{backspace:{func:"backspace",classes:"control"},clear:{func:"cancel",text:"Limpiar",classes:"control featured"}},default:["1 2 3 {backspace}","4 5 6 {clear}","7 8 9 0"]},input:null}},methods:Object(u["a"])({},Object(b["b"])(["addStartingWagon"]),{onWagonSelected:function(){this.addStartingWagon({oven:this.oven,wagon:this.startWagon})},clear:function(){this.startWagon=""},ovenUnavailable:function(){console.log("Oven unavailable")}}),mounted:function(){this.input=this.$refs["input"].$refs["input"]},watch:{startWagon:function(){this.onWagonSelected()}},validations:function(){return{startWagon:{positiveInteger:Mt,upperLimit:Wt(this.oven)},form:["startWagon"]}}},Ft=It,zt=(a("35c0"),Object(p["a"])(Ft,Pt,Rt,!1,null,null,null)),At=zt.exports,Qt={components:{CreateShift:Dt,SelectWagon:At},data:function(){return{}},computed:Object(u["a"])({},Object(b["c"])(["tmpShiftCode","tmpStartWagons","factoryOvens"])),methods:Object(u["a"])({},Object(b["b"])(["createShift"]),{validateStep:function(t){var e=this.$refs[t];return!e.validate||e.validate()},onComplete:function(){this.tmpStartWagons&&P()(this.tmpStartWagons).length==this.factoryOvens.length?this.createShift():this.$notify({message:"Debe completar los datos requeridos",type:"danger"})}})},Nt=Qt,Vt=Object(p["a"])(Nt,jt,kt,!1,null,null,null),Bt=Vt.exports,Zt=(n=Object(I["a"])({components:{Oven:at,DataIndicactor:Y,ClassifiedCounter:ct,OvenData:ht,ClassificationData:Ot,CreateShiftForm:Bt,LoadingSpinner:m},computed:Object(u["a"])({},Object(b["c"])(["factoryOvens","creatingShift","currentClassification","startWagonsPerOven","loading","classifications"]),{shift:Object(b["c"])(["currentShift"]).currentShift}),methods:Object(u["a"])({},Object(b["b"])(["loadFactoryOvens","setCurrentWagon","endShift"]))}),n(i=function(t){function e(){return Object(R["a"])(this,e),Object(q["a"])(this,Object(M["a"])(e).apply(this,arguments))}return Object(W["a"])(e,t),Object(T["a"])(e,[{key:"created",value:function(){P()(this.factoryOvens).length||this.loadFactoryOvens()}},{key:"createShiftStart",value:function(){this.$store.state.creatingShift=!0}},{key:"visibleOvens",get:function(){return this.factoryOvens}},{key:"currentClassData",get:function(){return{quantity:this.classificationData.quantity,wagon:this.currentWagon,defect:this.classificationData.defect,location:this.classificationData.location}}},{key:"hasOpenShift",get:function(){return null!=this.shift}},{key:"currentWagon",get:function(){return this.currentClassification.currentWagon}},{key:"ovenData",get:function(){return{productModel:this.currentClassification.productModel,color:this.currentClassification.color,currentOven:this.currentClassification.currentOven,coatOperator:(this.currentWagon||{}).coatOperator,castOperator:(this.currentWagon||{}).castOperator,polishOperator:(this.currentWagon||{}).polishOperator}}},{key:"totalClassifiedPieces",get:function(){return L()(this.shift.pieceClassifications).reduce(function(t,e){return t+e})}},{key:"latestClassification",get:function(){return this.classifications.length?this.classifications[this.classifications.length-1]:null}},{key:"classificationData",get:function(){if(!this.latestClassification)return{};var t=this.latestClassification.defects[1],e=t.length?t[t.length-1]:{};return Object(u["a"])({defect:e},this.latestClassification)}}]),e}(I["b"]))||i),Ht=Zt,Ut=(a("21bb"),Object(p["a"])(Ht,x,$,!1,null,null,null)),Kt=Ut.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("side-bar",{attrs:{backgroundColor:"darkblue",activeColor:"success"}},[a("template",{slot:"links"},[a("sidebar-link",{attrs:{to:"/home",name:"Clasificación",icon:"ti-panel"}}),a("sidebar-link",{attrs:{to:"/rules",name:"Mant. de Reglas",icon:"ti-ruler"}}),a("sidebar-link",{attrs:{to:"/reports",name:"Reportes",icon:"ti-bar-chart"}})],1),a("mobile-menu",[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link"},[a("i",{staticClass:"ti-panel"}),a("p",[t._v("Stats")])])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link"},[a("i",{staticClass:"ti-settings"}),a("p",[t._v("Settings")])])]),a("li",{staticClass:"divider"})])],2),a("div",{staticClass:"main-panel"},[a("top-navbar"),a("dashboard-content",{nativeOn:{click:function(e){return t.toggleSidebar(e)}}})],1)],1)},Jt=[],Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"col-4"},[t.currentUser?a("p",{staticClass:"p-0 m-0 page-title",attrs:{href:"#"}},[t._v("Hola, "+t._s(t.currentUser.name))]):t._e()]),a("button",{staticClass:"navbar-toggler navbar-burger",attrs:{type:"button","aria-expanded":t.$sidebar.showSidebar,"aria-label":"Toggle navigation"},on:{click:t.toggleSidebar}},[a("span",{staticClass:"navbar-toggler-bar"}),a("span",{staticClass:"navbar-toggler-bar"}),a("span",{staticClass:"navbar-toggler-bar"})]),a("div",{staticClass:"collapse navbar-collapse"},[a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"btn btn-main",attrs:{href:"#"},on:{click:t.doLogout}},[a("i",{staticClass:"ti-shift-left-alt"}),t._v("\n            Salir\n          ")])])])])])])},Xt=[],te=(a("a481"),{computed:Object(u["a"])({routeName:function(){var t=this.$route.name;return this.capitalizeFirstLetter(t)}},Object(b["c"])(["currentUser"])),data:function(){return{activeNotifications:!1}},methods:Object(u["a"])({capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},toggleNotificationDropDown:function(){this.activeNotifications=!this.activeNotifications},closeDropDown:function(){this.activeNotifications=!1},toggleSidebar:function(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)},hideSidebar:function(){this.$sidebar.displaySidebar(!1)},redirectToLogin:function(){this.currentUser||this.$router.replace("login")}},Object(b["b"])(["doLogout"])),watch:{currentUser:function(){this.redirectToLogin()}},created:function(){this.redirectToLogin()}}),ee=te,ae=(a("20b1"),Object(p["a"])(ee,Yt,Xt,!1,null,null,null)),ne=ae.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)])},oe=[],se={},re=se,ce=(a("0036"),Object(p["a"])(re,ie,oe,!1,null,null,null)),le=ce.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav navbar-nav nav-mobile-menu"},[t._t("default")],2)},de=[],fe={},pe=fe,he=Object(p["a"])(pe,ue,de,!1,null,null,null),ve=he.exports,me={components:{TopNavbar:ne,DashboardContent:le,MobileMenu:ve},methods:{toggleSidebar:function(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},be=me,ge=Object(p["a"])(be,Gt,Jt,!1,null,null,null),Ce=ge.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contact-us full-screen"},[a("nav",{staticClass:"navbar navbar-ct-default",attrs:{role:"navigation-demo"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-header"},[t._m(0),a("router-link",{staticClass:"navbar-brand",attrs:{to:{path:"/"}}},[t._v("SCPI")])],1),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navigation-example-2"}},[a("ul",{staticClass:"nav navbar-nav navbar-right"},[a("li",[a("router-link",{attrs:{to:{path:"/"}}},[t._v("Inicio")])],1)])])])]),t._m(1),a("footer",{staticClass:"footer-demo"},[a("div",{staticClass:"container"},[a("nav",{staticClass:"pull-left"},[a("ul",[a("li",[a("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1),a("li",[a("router-link",{attrs:{to:{path:"/register"}}},[t._v("Register")])],1)])]),t._m(2)])])])},_e=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggle",attrs:{type:"button","data-toggle":"collapse","data-target":"#navigation-example-2"}},[a("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper wrapper-full-page section content"},[a("div",{},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-8 offset-2 text-center"},[a("h2",{staticClass:"title text-danger"},[t._v("404 Not Found")]),a("h2",{staticClass:"title"},[t._v("Oops! Parece que esta página no existe.")])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"copyright pull-right"},[t._v("\n        © 2017, made with\n        "),a("i",{staticClass:"fa fa-heart heart"}),t._v(" by Paper admin\n      ")])}],Oe={},je=Oe,ke=Object(p["a"])(je,ye,_e,!1,null,null,null),we=ke.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"login container-fluid h-100"},[a("div",{staticClass:"row justify-content-center align-items-center h-100"},[a("div",{staticClass:"col-4 form-container"},[t.loggingIn?a("LoadingSpinner"):t._e(),t._m(0),t.loginError?a("p",[t._v(t._s(t.loginError))]):t._e(),t.loginSuccessful?a("p",[t._v("Login Successful")]):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.loginSubmit(e)}}},[a("div",{staticClass:"form-group input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"emp-code",placeholder:"Código de Empleado"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("div",{staticClass:"form-group input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"emp-password",placeholder:"Contraseña"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Ingresar")])])],1)])])])},xe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"pb-4 mx-auto text-center font-weight-bold font-italic"},[t._v("\n          Sistema de Clasificado de Piezas\n          "),a("br"),t._v("SCPI\n        ")])}],$e={components:{LoadingSpinner:m},data:function(){return{username:"",password:""}},computed:Object(u["a"])({},Object(b["c"])(["loggingIn","loginError","loginSuccessful"])),methods:Object(u["a"])({},Object(b["b"])(["doLogin","doLogout"]),{loginSubmit:function(){this.doLogin({username:this.username,password:this.password})}}),watch:{loginSuccessful:function(t){t&&this.$router.replace("home")}},mounted:function(){this.doLogout()}},Ee=$e,Le=(a("50ba"),Object(p["a"])(Ee,Se,xe,!1,null,null,null)),De=Le.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"model-selection bg-white"},[t.loading?a("LoadingSpinner"):t._e(),a("form-wizard",{ref:"wizard",staticClass:"form-wizard",attrs:{title:"Seleccionar modelo de producto a clasificar",subtitle:"",nextButtonText:"Siguiente",backButtonText:"Atrás",finishButtonText:"Finalizar",color:"#3498db"},on:{"on-complete":t.onComplete},scopedSlots:t._u([{key:"footer",fn:function(e){return[a("div",{staticClass:"wizard-footer-left"},[a("wizard-button",{staticClass:"btn btn-default",nativeOn:{click:function(a){return t.backHandler(e.activeTabIndex,e.prevTab,e)}}},[t._v(t._s(t.prevButtonText(e.activeTabIndex)))])],1)]}}])},[a("tab-content",{attrs:{title:"Familia de Producto",beforeChange:t.loadProductModels}},[a("div",{staticClass:"row family-selection"},[a("div",{staticClass:"col-5 text-center"},[a("h4",[t._v("Seleccione la familia de producto")])]),a("div",{staticClass:"col-7"},[a("div",{staticClass:"row grid",class:{error:t.hasFamilyError}},t._l(t.productFamilies,function(e){return a("div",{key:e.id,staticClass:"col-3 grid-item",class:{selected:t.selectedFamily===e,"with-img":e.image},on:{click:function(a){return t.familySelect(e)}}},[e.image?a("img",{attrs:{src:"img/product-families/"+e.image}}):t._e(),a("p",[t._v(t._s(e.name))])])}),0)])])]),a("tab-content",{attrs:{title:"Modelo de Producto"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5 text-center"},[a("h4",[t._v("Seleccione el modelo de producto")])]),a("div",{staticClass:"col-7"},[a("div",{staticClass:"row grid",class:{error:t.hasModelError}},[t._l(t.familyModels,function(e){return a("div",{key:e.id,staticClass:"col-3 grid-item",class:{selected:t.selectedModel===e},on:{click:function(a){return t.modelSelect(e)}}},[a("p",[t._v(t._s(e.name))])])}),t.familyModels.length?t._e():a("h4",[t._v("Esta familia de productos no tiene productos disponibles")])],2)])])])],1)],1)},Re=[],Te={components:{LoadingSpinner:m},data:function(){return{selectedFamily:null,selectedModel:null,wizard:null}},computed:Object(u["a"])({},Object(b["c"])(["productFamilies","productModels","loading","operationError","operationSuccessful"]),{familyModels:function(){return null!==this.selectedFamily&&this.productModels[this.selectedFamily.id]?this.productModels[this.selectedFamily.id]:[]},hasFamilyError:function(){return null==this.selectedFamily},hasModelError:function(){return null==this.selectedModel}}),methods:Object(u["a"])({},Object(b["b"])(["loadProductFamilies","loadModelsForFamily","selectModel"]),{familySelect:function(t){this.selectedFamily=t,this.wizard.nextTab()},modelSelect:function(t){this.selectedModel=t,this.onComplete()},loadProductModels:function(){return!this.hasFamilyError&&(this.familyModels.length||this.loadModelsForFamily(this.selectedFamily),!0)},onComplete:function(){return!this.hasModelError&&(this.selectModel(this.selectedModel),this.$router.push("quality-check"),!0)},prevButtonText:function(t){return t>0?"Atrás":"Volver"},backHandler:function(t,e){0!=t?e():this.$router.back()}}),mounted:function(){0===P()(this.productFamilies).length&&this.loadProductFamilies(),this.wizard=this.$refs["wizard"]}},qe=Te,Me=(a("2e7c"),Object(p["a"])(qe,Pe,Re,!1,null,"5e13ef0e",null)),We=Me.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white color-selection"},[t.loading?a("LoadingSpinner"):t._e(),a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Seleccionar color de producto a clasificar")]),a("div",{staticClass:"grid-container row"},[t._m(0),a("div",{staticClass:"col-7"},[a("div",{staticClass:"row grid",class:{error:t.hasError}},t._l(t.colors,function(e){return a("div",{key:e.id,staticClass:"col-3 grid-item",class:{selected:t.selectedColor===e},style:{"background-color":e.code},on:{click:function(){return t.selectedColor=e}}},[a("p",[t._v(t._s(e.name))])])}),0)])]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")])])])],1)},Fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-5 text-center"},[a("h4",[t._v("Seleccione el color del producto")])])}],ze={components:{LoadingSpinner:m},data:function(){return{selectedColor:null}},computed:Object(u["a"])({},Object(b["c"])(["colors","loading","operationError","operationSuccessful"]),{hasError:function(){return null==this.selectedColor}}),methods:Object(u["a"])({},Object(b["b"])(["loadColors","selectColor"]),{onSubmit:function(){this.hasError||(this.selectColor(this.selectedColor),this.$router.push("quality-check"))}}),mounted:function(){0===P()(this.colors).length&&this.loadColors()},watch:{selectedColor:function(){this.selectedColor&&this.onSubmit()}}},Ae=ze,Qe=(a("ce7d"),Object(p["a"])(Ae,Ie,Fe,!1,null,"517afb50",null)),Ne=Qe.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white color-selection"},[a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Ingresar código del barnizador")]),a("div",{staticClass:"form-container row w-100"},[a("div",{staticClass:"col-5 text-center d-flex flex-column"},[a("h4",{staticClass:"w-100"},[t._v("Ingrese el código del barnizador")]),a("b-form",{staticClass:"operator-form",attrs:{novalidate:""}},[a("b-form-group",{attrs:{id:"operator-code",label:"Código Operario","label-for":"operator-input"}},[a("b-input-group",{attrs:{prepend:t.prefix}},[a("b-form-input",{ref:"input",class:{"is-invalid":t.$v.operatorCode.$invalid},attrs:{id:"operator-input",placeholder:"Código Operario",required:""},model:{value:t.operatorCode,callback:function(e){t.operatorCode=e},expression:"operatorCode"}}),t.$v.operatorCode.required?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("Debe ingresar el código del operario")]),t.$v.operatorCode.maxLength?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("El código del operario debe tener máximo "+t._s(t.$v.operatorCode.$params.maxLength.max)+" caracteres")])],1)],1)],1)],1),a("div",{staticClass:"col-7"},[a("vue-touch-keyboard",{attrs:{layout:t.layout,cancel:t.clear,input:t.input}})],1)]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")]),a("button",{staticClass:"btn btn-default btn-next",on:{click:t.onSubmit}},[t._v("Finalizar")])])])])},Be=[],Ze={data:function(){return{layout:{_meta:{backspace:{func:"backspace",classes:"control"},clear:{func:"cancel",text:"Limpiar",classes:"control featured"}},default:["1 2 3 {backspace}","4 5 6 {clear}","7 8 9 0"]},input:null,prefix:"B",operatorCode:""}},computed:Object(u["a"])({},Object(b["c"])(["operators"])),methods:Object(u["a"])({},Object(b["b"])(["loadOperators","selectCoatOperator"]),{onSubmit:function(){this.validate()&&(this.selectCoatOperator(this.prefix+this.operatorCode),this.$router.push("quality-check"))},clear:function(){this.operatorCode=""},validate:function(){this.$v.form.$touch();var t=!this.$v.form.$invalid;return this.$emit("on-validate",this.$data,t),t}}),mounted:function(){0===P()(this.operators).length&&this.loadOperators(),this.input=this.$refs["input"].$refs["input"]},validations:{operatorCode:{required:xt["required"],maxLength:Object(xt["maxLength"])(3)},form:["operatorCode"]}},He=Ze,Ue=(a("11d0"),Object(p["a"])(He,Ve,Be,!1,null,"6f9d52d0",null)),Ke=Ue.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white color-selection"},[a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Ingresar código del colador")]),a("div",{staticClass:"form-container row w-100"},[a("div",{staticClass:"col-5 text-center d-flex flex-column"},[a("h4",{staticClass:"w-100"},[t._v("Ingrese el código del colador")]),a("b-form",{staticClass:"operator-form",attrs:{novalidate:""}},[a("b-form-group",{attrs:{id:"operator-code",label:"Código Operario","label-for":"operator-input"}},[a("b-input-group",{attrs:{prepend:t.prefix}},[a("b-form-input",{ref:"input",class:{"is-invalid":t.$v.operatorCode.$invalid},attrs:{id:"operator-input",placeholder:"Código Operario",required:""},model:{value:t.operatorCode,callback:function(e){t.operatorCode=e},expression:"operatorCode"}}),t.$v.operatorCode.required?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("Debe ingresar el código del operario")]),t.$v.operatorCode.maxLength?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("El código del operario debe tener máximo "+t._s(t.$v.operatorCode.$params.maxLength.max)+" caracteres")])],1)],1)],1)],1),a("div",{staticClass:"col-7"},[a("vue-touch-keyboard",{attrs:{layout:t.layout,cancel:t.clear,input:t.input}})],1)]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")]),a("button",{staticClass:"btn btn-default btn-next",on:{click:t.onSubmit}},[t._v("Finalizar")])])])])},Je=[],Ye={data:function(){return{layout:{_meta:{backspace:{func:"backspace",classes:"control"},clear:{func:"cancel",text:"Limpiar",classes:"control featured"}},default:["1 2 3 {backspace}","4 5 6 {clear}","7 8 9 0"]},input:null,prefix:"F",operatorCode:""}},computed:Object(u["a"])({},Object(b["c"])(["operators"])),methods:Object(u["a"])({},Object(b["b"])(["loadOperators","selectCastOperator"]),{onSubmit:function(){this.validate()&&(this.selectCastOperator(this.prefix+this.operatorCode),this.$router.push("quality-check"))},clear:function(){this.operatorCode=""},validate:function(){this.$v.form.$touch();var t=!this.$v.form.$invalid;return this.$emit("on-validate",this.$data,t),t}}),mounted:function(){0===P()(this.operators).length&&this.loadOperators(),this.input=this.$refs["input"].$refs["input"]},validations:{operatorCode:{required:xt["required"],maxLength:Object(xt["maxLength"])(3)},form:["operatorCode"]}},Xe=Ye,ta=(a("cf50"),Object(p["a"])(Xe,Ge,Je,!1,null,"fd5858d4",null)),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white color-selection"},[a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Ingresar código del pulidor")]),a("div",{staticClass:"form-container row w-100"},[a("div",{staticClass:"col-5 text-center d-flex flex-column"},[a("h4",{staticClass:"w-100"},[t._v("Ingrese el código del pulidor")]),a("b-form",{staticClass:"operator-form",attrs:{novalidate:""}},[a("b-form-group",{attrs:{id:"operator-code",label:"Código Operario","label-for":"operator-input"}},[a("b-input-group",{attrs:{prepend:t.prefix}},[a("b-form-input",{ref:"input",class:{"is-invalid":t.$v.operatorCode.$invalid},attrs:{id:"operator-input",placeholder:"Código Operario",required:""},model:{value:t.operatorCode,callback:function(e){t.operatorCode=e},expression:"operatorCode"}}),t.$v.operatorCode.required?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("Debe ingresar el código del operario")]),t.$v.operatorCode.maxLength?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("El código del operario debe tener máximo "+t._s(t.$v.operatorCode.$params.maxLength.max)+" caracteres")])],1)],1)],1)],1),a("div",{staticClass:"col-7"},[a("vue-touch-keyboard",{attrs:{layout:t.layout,cancel:t.clear,input:t.input}})],1)]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")]),a("button",{staticClass:"btn btn-default btn-next",on:{click:t.onSubmit}},[t._v("Finalizar")])])])])},na=[],ia={data:function(){return{layout:{_meta:{backspace:{func:"backspace",classes:"control"},clear:{func:"cancel",text:"Limpiar",classes:"control featured"}},default:["1 2 3 {backspace}","4 5 6 {clear}","7 8 9 0"]},input:null,prefix:"P",operatorCode:""}},computed:Object(u["a"])({},Object(b["c"])(["operators"])),methods:Object(u["a"])({},Object(b["b"])(["loadOperators","selectPolishOperator"]),{onSubmit:function(){this.validate()&&(this.selectPolishOperator(this.prefix+this.operatorCode),this.$router.push("quality-check"))},clear:function(){this.operatorCode=""},validate:function(){this.$v.form.$touch();var t=!this.$v.form.$invalid;return this.$emit("on-validate",this.$data,t),t}}),mounted:function(){0===P()(this.operators).length&&this.loadOperators(),this.input=this.$refs["input"].$refs["input"]},validations:{operatorCode:{required:xt["required"],maxLength:Object(xt["maxLength"])(3)},form:["operatorCode"]}},oa=ia,sa=(a("4ee2"),Object(p["a"])(oa,aa,na,!1,null,"584b49b8",null)),ra=sa.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-check bg-white d-flex flex-column align-items-center"},[a("h4",[t._v("Evaluación de Calidad")]),a("div",{staticClass:"row w-90 classification-summary bg-nude"},[a("div",{staticClass:"col-7 d-flex flex-column"},t._l(t.summaryData,function(e,n){return a("div",{key:n,staticClass:"summary-item d-flex justify-content-between"},[a("div",{staticClass:"d-flex flex-shrink align-items-center"},[a("p",{staticClass:"label"},[t._v(t._s(e.label)+":")]),a("p",{staticClass:"value"},[t._v(t._s(e.value))])]),e.route&&!e.btn?a("router-link",{staticClass:"btn btn-default q-edit",attrs:{to:e.route}},[a("i",{staticClass:"ti-pencil"})]):t._e(),e.route&&e.btn?a("b-btn",{staticClass:"q-edit",attrs:{variant:"default"},on:{click:function(a){return t.handleEditBtn(e.route)}}},[a("i",{staticClass:"ti-pencil"})]):t._e(),"Vagoneta"==e.label?a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.wagon-info-modal",modifiers:{"wagon-info-modal":!0}}],staticClass:"btn btn-default"},[t._v("Ver detalle")]):t._e()],1)}),0),a("div",{staticClass:"col-5 d-flex flex-column"},t._l(t.wagonOperators,function(e,n){return a("div",{key:n,staticClass:"summary-item d-flex justify-content-between"},[a("div",{staticClass:"d-flex flex-shrink align-items-center"},[a("p",{staticClass:"label",class:{invisible:!e.label}},[t._v(t._s(e.label)+":")]),a("p",{staticClass:"value"},[t._v(t._s(e.value))])]),e.route?a("router-link",{staticClass:"btn btn-default q-edit",attrs:{to:e.route}},[a("i",{staticClass:"ti-pencil"})]):t._e()],1)}),0),a("div",{staticClass:"summary-item d-flex flex-column col-12"},[a("div",{staticClass:"defect-list-header d-flex justify-content-between align-items-center pb-2"},[a("p",{staticClass:"label m-0"},[t._v("Defectos")]),a("button",{staticClass:"btn btn-info btn-add-defect align-self-center m-0",on:{click:t.goToAddDefect}},[t._v("Registrar Defecto")])]),a("ul",{staticClass:"defect-list"},t._l(t.defects,function(e,n){return a("li",{key:n,staticClass:"defect-item"},[a("p",{staticClass:"defect-description"},[t._v(t._s(e.text))])])}),0)])]),a("div",{staticClass:"row w-90 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(e){return t.$router.push("home")}}},[t._v("Volver")]),a("button",{staticClass:"btn btn-success btn-next",on:{click:t.onSubmit}},[t._v("Finalizar")])])]),a("b-modal",{attrs:{id:"confirm-modal",size:"lg",title:"Confirmar Clasificación"},on:{ok:t.onFinish},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.ok,i=e.hide;return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return i()}}},[t._v("Cancelar")]),a("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.$router.push("quality-selection")}}},[t._v("Seleccionar otro")]),t.systemQualityLevel?a("b-button",{attrs:{variant:"success"},on:{click:function(t){return n()}}},[t._v("Confirmar")]):t._e()]}}])},[a("template",{slot:"default"},[a("p",[t._v(t._s(t.systemQualityText))]),a("p",[t._v("¿ Confirma el nivel de calidad determinado ?")])])],2),a("b-modal",{attrs:{id:"wagon-info-modal",size:"lg",title:"Detalle de Vagoneta"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.hide;return[a("b-button",{attrs:{variant:"default"},on:{click:function(t){return n()}}},[t._v("Aceptar")])]}}])},[a("template",{slot:"modal-title"},[t._v("Detalle de Vagoneta "+t._s(t.wagon.code.padStart(2,"0")))]),a("template",{slot:"default"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 text-center"},[a("h4",[t._v("Pieza")])]),a("div",{staticClass:"col-6 text-center"},[a("h4",[t._v("Cantidad Clasificada")])])]),t._l(t.wagonProducts,function(e){return a("div",{key:e.productModel.id+":"+e.color.id,staticClass:"row"},[a("div",{staticClass:"col-6"},[a("p",[t._v(t._s(e.productModel.name)+" - "+t._s(e.color.name))])]),a("div",{staticClass:"col-6 text-center"},[a("p",[t._v(t._s(e.classifiedPieces)+" / "+t._s(e.quantity))])])])})],2)],2)],1)},la=[],ua=(a("6762"),a("2fdb"),{computed:Object(u["a"])({},Object(b["c"])(["currentClassification","loading","productsPerWagon"]),{summaryData:function(){return[{label:"Horno",value:this.currentClassification.currentOven.code},{label:"Vagoneta",value:"Vagoneta "+this.currentClassification.currentWagon.code},{label:"Modelo",value:this.currentClassification.productModel?this.currentClassification.productModel.name:"No seleccionado",route:"model-selection",btn:!0},{label:"Color",value:this.currentClassification.color?this.currentClassification.color.name:"No seleccionado",route:"color-selection"}]},wagonProducts:function(){var t="".concat(this.currentClassification.currentOven.id,":").concat(this.currentClassification.currentWagon.id);return this.productsPerWagon[t]},wagonOperators:function(){return[{label:"",value:"",route:""},{label:"Pulidor",value:this.currentClassification.polishOperator.code,route:"polish-selection"},{label:"Barnizador",value:this.currentClassification.coatOperator.code,route:"coat-selection"},{label:"Colador",value:this.currentClassification.castOperator.code,route:"cast-selection"}]},defects:function(){return(this.currentClassification.defects||[]).map(function(t){return Object(u["a"])({},t,{text:"".concat(t.defectType.name," en ").concat(t.affectedZone.name," por ").concat(t.defectType.defectArea.name)})})},assignedQualityLevel:function(){return this.currentClassification.assignedQualityLevel},systemQualityLevel:function(){return this.currentClassification.systemQualityLevel},assignedQualityText:function(){if(!this.assignedQualityLevel)return"No definido";var t=this.assignedQualityLevel.name;return"S"==this.assignedQualityLevel.code?"".concat(t," - ").concat(this.currentClassification.repair.repairType.name):"V"==this.assignedQualityLevel.code?"".concat(t," - ").concat(this.currentClassification.evaluation.evaluationType.name):t},systemQualityText:function(){if(!this.systemQualityLevel)return"No se pudo llegar a una conclusión sobre el nivel de calidad del producto";var t="Se ha determinado el nivel de calidad: ".concat(this.systemQualityLevel.name);return"S"==this.systemQualityLevel.code?"".concat(t," ").concat(this.currentClassification.repair?"- "+this.currentClassification.repair.repairType.name:""):"V"==this.systemQualityLevel.code?"".concat(t," ").concat(this.currentClassification.evaluation?"- "+this.currentClassification.evaluation.evaluationType.name:""):t},wagon:function(){return this.currentClassification.currentWagon}}),methods:Object(u["a"])({},Object(b["b"])(["saveClassification","systemEvaluate","createClassification","startModelSelection"]),{onSubmit:function(){var t=this;this.validate()&&this.systemEvaluate(this.currentClassification.defects).then(function(){return t.$bvModal.show("confirm-modal")})},onFinish:function(){var t=this,e={system:this.systemQualityLevel,assigned:this.assignedQualityLevel};"R"==e.system.code?[64,65].includes(this.currentClassification.productFamily.id)?this.$router.push("quantity-selection"):this.$router.push("castDate-selection"):"E"==e.system.code||"C"==e.system.code?this.$router.push("quantity-selection"):this.saveClassification(this.currentClassification).then(function(e){t.$notify({message:"Se guardó la clasificación exitosamente",type:"info"});var a=t.productsPerWagon["".concat(e.currentOven.id,":").concat(e.productionWagon.id)];a=a.filter(function(t){return t.quantity>t.classifiedPieces}),0==a.length?(t.$notify({message:"Se clasificaron todos los productos de esta vagoneta",type:"info"}),t.$router.push("home")):(t.createClassification({oven:e.currentOven,wagon:e.productionWagon}),t.$router.push("quality-check"))})},goToAddDefect:function(){this.currentClassification.productModel?(this.tmpDefect={className:"com.pmvb.scpiback.data.models.Defect"},this.$router.push("defect-area-selection")):this.$notify({message:"Seleccione el producto a clasificar",type:"danger"})},goToQualitySelect:function(){this.$router.push("quality-selection")},validate:function(){return this.currentClassification.productModel?this.currentClassification.color?this.currentClassification.castOperator?this.currentClassification.coatOperator?!!this.currentClassification.polishOperator||(this.$notify({message:"Seleccione el pulidor",type:"danger"}),!1):(this.$notify({message:"Seleccione el barnizador",type:"danger"}),!1):(this.$notify({message:"Seleccione el colador",type:"danger"}),!1):(this.$notify({message:"Seleccione el color del producto",type:"danger"}),!1):(this.$notify({message:"Seleccione el producto a clasificar",type:"danger"}),!1)},handleEditBtn:function(t){"model-selection"==t&&(this.startModelSelection(),this.$router.push(t))}})}),da=ua,fa=(a("3251"),Object(p["a"])(da,ca,la,!1,null,null,null)),pa=fa.exports,ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white defectArea-selection"},[t.loading?a("LoadingSpinner"):t._e(),a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Área por defecto de piezas")]),a("div",{staticClass:"grid-container row col-12"},[t._m(0),a("div",{staticClass:"col-7"},[a("div",{staticClass:"row grid",class:{error:t.hasError}},t._l(t.defectAreas,function(e){return a("div",{key:e.id,staticClass:"col-3 grid-item d-flex justify-content-center align-items-center bg-nude",class:{selected:t.selectedDefectArea===e},on:{click:function(){return t.selectedDefectArea=e}}},[a("p",[t._v(t._s(e.name))])])}),0)])]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(e){return t.$router.back()}}},[t._v("Volver")]),t.inRuleMaintenance?t._e():a("button",{staticClass:"btn btn-default btn-next",on:{click:t.onFinish}},[t._v("Finalizar registro")])])])],1)},va=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-5 text-center"},[a("h4",[t._v("Seleccione el área de defecto de pieza")])])}],ma=(a("f559"),{components:{LoadingSpinner:m},data:function(){return{selectedDefectArea:null,inRuleMaintenance:!1}},computed:Object(u["a"])({},Object(b["c"])(["defectAreas","loading","operationError","operationSuccessful","tmpDefect"]),{hasError:function(){return null==this.selectedDefectArea}}),methods:Object(u["a"])({},Object(b["b"])(["loadDefectAreas","selectDefectArea"]),{onSubmit:function(){this.selectDefectArea(this.selectedDefectArea),this.$router.push("defect-selection")},onFinish:function(){this.$router.push("quality-check")}}),mounted:function(){0===P()(this.defectAreas).length&&this.loadDefectAreas()},watch:{selectedDefectArea:function(){this.selectedDefectArea&&this.onSubmit()}},beforeRouteEnter:function(t,e,a){a(function(t){return t.inRuleMaintenance=e.path.startsWith("/rules")})},beforeRouteLeave:function(t,e,a){console.log(t,e),a()}}),ba=ma,ga=(a("24fa"),Object(p["a"])(ba,ha,va,!1,null,"6f94e3fa",null)),Ca=ga.exports,ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white color-selection"},[t.loading?a("LoadingSpinner"):t._e(),a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Lista de defectos para "+t._s(t.defectArea.name))]),a("div",{staticClass:"grid-container row col-12"},[t._m(0),a("div",{staticClass:"col-7"},[a("div",{staticClass:"row grid",class:{error:t.hasError}},t._l(t.defects,function(e){return a("div",{key:e.id,staticClass:"col-3 grid-item d-flex justify-content-center align-items-center bg-nude",class:{selected:t.selectedDefect===e},on:{click:function(){return t.selectedDefect=e}}},[a("p",[t._v(t._s(e.name))])])}),0)])]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")])])])],1)},_a=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-5 text-center"},[a("h4",[t._v("Seleccione el defecto encontrado")])])}],Oa={components:{LoadingSpinner:m},data:function(){return{selectedDefect:null,inRuleMaintenance:!1}},computed:Object(u["a"])({},Object(b["c"])(["defectsPerArea","loading","operationError","operationSuccessful","tmpDefect"]),{defectArea:function(){return this.tmpDefect.defectArea},defects:function(){return this.defectsPerArea[this.defectArea.id]},hasError:function(){return null==this.selectedDefect}}),methods:Object(u["a"])({},Object(b["b"])(["loadDefectsForArea","selectDefect"]),{onSubmit:function(){this.selectDefect(this.selectedDefect),this.$router.push("pieceZone-selection")}}),mounted:function(){this.defects&&0!==P()(this.defects).length||this.loadDefectsForArea(this.defectArea)},watch:{selectedDefect:function(){this.selectedDefect&&this.onSubmit()}},beforeRouteEnter:function(t,e,a){a(function(t){return t.inRuleMaintenance=e.path.startsWith("/rules")})}},ja=Oa,ka=(a("c164"),Object(p["a"])(ja,ya,_a,!1,null,"63fe0e38",null)),wa=ka.exports,Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white color-selection"},[t.loading?a("LoadingSpinner"):t._e(),a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Localización (Zona) de la pieza")]),a("div",{staticClass:"grid-container row col-12"},[t._m(0),a("div",{staticClass:"col-7"},[a("div",{staticClass:"row grid",class:{error:t.hasError}},t._l(t.productZones,function(e){return a("div",{key:e.id,staticClass:"col-3 grid-item d-flex justify-content-center align-items-center bg-nude",class:{selected:t.selectedZone===e},on:{click:function(){return t.selectedZone=e}}},[a("p",[t._v(t._s(e.name))])])}),0)])]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")])])])],1)},xa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-5 text-center"},[a("h4",[t._v("Seleccione la localización (zona) de la pieza")])])}],$a=(a("28a5"),{components:{LoadingSpinner:m},data:function(){return{selectedZone:null,inRuleMaintenance:!1}},computed:Object(u["a"])({},Object(b["c"])(["currentClassification","pieceZones","loading","operationError","operationSuccessful","tmpDefect","tmpRuleModel"]),{hasError:function(){return null==this.selectedZone},productZones:function(){return this.pieceZones[this.zoneKey]},zoneKey:function(){return"".concat(this.currentClassification.productFamily.id,":").concat(this.currentClassification.productModel.id)}}),methods:Object(u["a"])({},Object(b["b"])(["loadPieceZones","selectPieceZone","saveDefect","addDefectToRule"]),{onSubmit:function(){this.hasError||(this.selectPieceZone(this.selectedZone),this.inRuleMaintenance?(this.addDefectToRule(this.tmpDefect),this.$router.push("/rules/".concat(0==(this.tmpRuleModel.id||0)?"new":this.tmpRuleModel.id))):(this.saveDefect(this.tmpDefect),this.$notify({message:"Defecto registrado",type:"info"}),this.$router.push("defect-area-selection")))}}),mounted:function(){this.pieceZones[this.zoneKey]||this.loadPieceZones({key:this.zoneKey,family:this.zoneKey.split(":")[0],model:this.zoneKey.split(":")[1]})},watch:{selectedZone:function(){this.selectedZone&&this.onSubmit()}},beforeRouteEnter:function(t,e,a){a(function(t){return t.inRuleMaintenance=e.path.startsWith("/rules")})}}),Ea=$a,La=(a("4536"),Object(p["a"])(Ea,Sa,xa,!1,null,"54335a64",null)),Da=La.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white quality-selection"},[t.loading?a("LoadingSpinner"):t._e(),a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Nivel de Calidad")]),a("div",{staticClass:"grid-container row col-12"},[t._m(0),a("div",{staticClass:"col-7"},[a("div",{staticClass:"row grid",class:{error:t.hasError}},t._l(t.qualityLevels,function(e){return a("div",{key:e.id,staticClass:"col-3 grid-item d-flex justify-content-center align-items-center bg-nude",class:{selected:t.selectedQuality===e},on:{click:function(){return t.selectedQuality=e}}},[a("p",[t._v(t._s(e.name))])])}),0)])]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")])])])],1)},Ra=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-5 text-center"},[a("h4",[t._v("Seleccione el nivel de calidad del producto")])])}],Ta={components:{LoadingSpinner:m},data:function(){return{selectedQuality:null}},computed:Object(u["a"])({},Object(b["c"])(["qualityLevels","loading","operationError","operationSuccessful","currentClassification","productsPerWagon"]),{hasError:function(){return null==this.selectedQuality}}),methods:Object(u["a"])({},Object(b["b"])(["loadQualityLevels","selectQuality","saveClassification","createClassification"]),{onSubmit:function(){this.selectQuality(this.selectedQuality),this.nextPage()},nextPage:function(){var t=this;switch(this.selectedQuality.code){case"S":this.$router.push("repair-selection");break;case"V":this.$router.push("evaluation-selection");break;case"R":[64,65].includes(this.currentClassification.productFamily.id)?this.$router.push("quantity-selection"):this.$router.push("castDate-selection");break;default:this.saveClassification(this.currentClassification).then(function(e){t.$notify({message:"Se guardó la clasificación exitosamente",type:"info"});var a=t.productsPerWagon["".concat(e.currentOven.id,":").concat(e.productionWagon.id)];a=a.filter(function(t){return t.quantity>t.classifiedPieces}),0==a.length?(t.$notify({message:"Se clasificaron todos los productos de esta vagoneta",type:"info"}),t.$router.push("home")):(t.createClassification({oven:e.currentOven,wagon:e.productionWagon}),t.$router.push("quality-check"))})}}}),mounted:function(){0===P()(this.qualityLevels).length&&this.loadQualityLevels()},watch:{selectedQuality:function(){this.selectedQuality&&this.onSubmit()}}},qa=Ta,Ma=(a("9272"),Object(p["a"])(qa,Pa,Ra,!1,null,"2ad152c2",null)),Wa=Ma.exports,Ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white repair-selection"},[t.loading?a("LoadingSpinner"):t._e(),a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Tipo de Resane")]),a("div",{staticClass:"grid-container row col-12"},[t._m(0),a("div",{staticClass:"col-7"},[a("div",{staticClass:"row grid",class:{error:t.hasError}},t._l(t.repairTypes,function(e){return a("div",{key:e.id,staticClass:"col-3 grid-item d-flex justify-content-center align-items-center bg-nude",class:{selected:t.selectedRepair===e},on:{click:function(){return t.selectedRepair=e}}},[a("p",[t._v(t._s(e.name))])])}),0)])]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")])])])],1)},Fa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-5 text-center"},[a("h4",[t._v("Seleccione el tipo de resane")])])}],za={components:{LoadingSpinner:m},data:function(){return{selectedRepair:null}},computed:Object(u["a"])({},Object(b["c"])(["repairTypes","loading","operationError","operationSuccessful","currentClassification","productsPerWagon"]),{hasError:function(){return null==this.selectedRepair}}),methods:Object(u["a"])({},Object(b["b"])(["loadRepairTypes","selectRepairType","saveClassification","createClassification"]),{onSubmit:function(){this.hasError||(this.selectRepairType(this.selectedRepair),this.nextPage())},nextPage:function(){var t=this,e=!!this.currentClassification.systemQualityLevel&&"R"==this.currentClassification.systemQualityLevel.code;e?[64,65].includes(this.currentClassification.productFamily.id)?this.$router.push("quantity-selection"):this.$router.push("castDate-selection"):this.saveClassification(this.currentClassification).then(function(e){t.$notify({message:"Se guardó la clasificación exitosamente",type:"info"});var a=t.productsPerWagon["".concat(e.currentOven.id,":").concat(e.productionWagon.id)];a=a.filter(function(t){return t.quantity>t.classifiedPieces}),0==a.length?(t.$notify({message:"Se clasificaron todos los productos de esta vagoneta",type:"info"}),t.$router.push("home")):(t.createClassification({oven:e.currentOven,wagon:e.productionWagon}),t.$router.push("quality-check"))})}}),mounted:function(){0===P()(this.repairTypes).length&&this.loadRepairTypes()},watch:{selectedRepair:function(){this.selectedRepair&&this.onSubmit()}}},Aa=za,Qa=(a("bd88"),Object(p["a"])(Aa,Ia,Fa,!1,null,"0b47de38",null)),Na=Qa.exports,Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white evaluation-selection"},[t.loading?a("LoadingSpinner"):t._e(),a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Tipo de Evaluación")]),a("div",{staticClass:"grid-container row col-12"},[t._m(0),a("div",{staticClass:"col-7"},[a("div",{staticClass:"row grid",class:{error:t.hasError}},t._l(t.evaluationTypes,function(e){return a("div",{key:e.id,staticClass:"col-3 grid-item d-flex justify-content-center align-items-center bg-nude",class:{selected:t.selectedEvaluation===e},on:{click:function(){return t.selectedEvaluation=e}}},[a("p",[t._v(t._s(e.name))])])}),0)])]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")])])])],1)},Ba=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-5 text-center"},[a("h4",[t._v("Seleccione el tipo de evaluación")])])}],Za={components:{LoadingSpinner:m},data:function(){return{selectedEvaluation:null}},computed:Object(u["a"])({},Object(b["c"])(["evaluationTypes","loading","operationError","operationSuccessful","currentClassification","productsPerWagon"]),{hasError:function(){return null==this.selectedEvaluation}}),methods:Object(u["a"])({},Object(b["b"])(["loadEvaluationTypes","selectEvaluationType","saveClassification","createClassification"]),{onSubmit:function(){this.hasError||(this.selectEvaluationType(this.selectedEvaluation),this.nextPage())},nextPage:function(){var t=this,e=!!this.currentClassification.systemQualityLevel&&"R"==this.currentClassification.systemQualityLevel.code;e?[64,65].includes(this.currentClassification.productFamily.id)?this.$router.push("quantity-selection"):this.$router.push("castDate-selection"):this.saveClassification(this.currentClassification).then(function(e){t.$notify({message:"Se guardó la clasificación exitosamente",type:"info"});var a=t.productsPerWagon["".concat(e.currentOven.id,":").concat(e.productionWagon.id)];a=a.filter(function(t){return t.quantity>t.classifiedPieces}),0==a.length?(t.$notify({message:"Se clasificaron todos los productos de esta vagoneta",type:"info"}),t.$router.push("home")):(t.createClassification({oven:e.currentOven,wagon:e.productionWagon}),t.$router.push("quality-check"))})}}),mounted:function(){0===P()(this.evaluationTypes).length&&this.loadEvaluationTypes()},watch:{selectedEvaluation:function(){this.selectedEvaluation&&this.onSubmit()}}},Ha=Za,Ua=(a("500c"),Object(p["a"])(Ha,Va,Ba,!1,null,"6a0c77f5",null)),Ka=Ua.exports,Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white quantity-selection"},[a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Cantidad de piezas clasificadas")]),a("div",{staticClass:"form-container row w-100"},[a("div",{staticClass:"col-5 text-center d-flex flex-column"},[a("h4",{staticClass:"w-100"},[t._v("Ingrese la cantidad de piezas clasificadas")]),a("b-form",{staticClass:"quantity-form",attrs:{novalidate:""}},[a("b-form-group",{attrs:{id:"quantity",label:"Cantidad","label-for":"quantity-input"}},[a("b-input-group",[a("b-form-input",{ref:"input",class:{"is-invalid":t.$v.quantity.$invalid},attrs:{id:"quantity-input",placeholder:"Cantidad de Piezas",required:"",type:"number",max:t.$v.quantity.$params.maxValue.max,min:t.$v.quantity.$params.minValue.min},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}),t.$v.quantity.required?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("Debe ingresar la cantidad de piezas clasificadas")]),t.$v.quantity.maxValue?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("La cantidad máxima de piezas es "+t._s(t.$v.quantity.$params.maxValue.max))]),t.$v.quantity.minValue?t._e():a("span",{staticClass:"help-block invalid-feedback"},[t._v("La cantidad de piezas debe ser al menos "+t._s(t.$v.quantity.$params.minValue.min))])],1)],1)],1)],1),a("div",{staticClass:"col-7"},[a("vue-touch-keyboard",{attrs:{layout:t.layout,cancel:t.clear,input:t.input}})],1)]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")]),a("button",{staticClass:"btn btn-default btn-next",on:{click:t.onSubmit}},[t._v("Aceptar")])])])])},Ja=[],Ya={data:function(){return{layout:{_meta:{backspace:{func:"backspace",classes:"control"},clear:{func:"cancel",text:"Limpiar",classes:"control featured"}},default:["1 2 3 {backspace}","4 5 6 {clear}","7 8 9 0"]},input:null,quantity:""}},computed:Object(u["a"])({},Object(b["c"])(["currentClassification","productsPerWagon"]),{assignedQualityLevel:function(){return this.currentClassification.assignedQualityLevel},systemQualityLevel:function(){return this.currentClassification.systemQualityLevel}}),methods:Object(u["a"])({},Object(b["b"])(["selectClassifiedQuantity","saveClassification","createClassification"]),{onSubmit:function(){var t=this;if(this.validate()){this.selectClassifiedQuantity(this.quantity);var e={system:this.systemQualityLevel,assigned:this.assignedQualityLevel};e.system&&"R"==e.system.code&&[64,65].includes(this.currentClassification.productFamily.id)?this.$router.push("castDate-selection"):this.saveClassification(this.currentClassification).then(function(e){t.$notify({message:"Se guardó la clasificación exitosamente",type:"info"}),console.log("cls: "+e);var a=t.productsPerWagon["".concat(e.currentOven.id,":").concat(e.productionWagon.id)];a=a.filter(function(t){return t.quantity>t.classifiedPieces}),0==a.length?(t.$notify({message:"Se clasificaron todos los productos de esta vagoneta",type:"info"}),t.$router.push("home")):(t.createClassification({oven:e.currentOven,wagon:e.productionWagon}),t.$router.push("quality-check"))})}},clear:function(){this.quantity=""},validate:function(){this.$v.form.$touch();var t=!this.$v.form.$invalid;return this.$emit("on-validate",this.$data,t),t}}),mounted:function(){this.input=this.$refs["input"].$refs["input"],this.quantity=this.currentClassification.quantity},validations:{quantity:{required:xt["required"],maxValue:Object(xt["maxValue"])(255),minValue:Object(xt["minValue"])(1)},form:["quantity"]}},Xa=Ya,tn=(a("0251"),Object(p["a"])(Xa,Ga,Ja,!1,null,"de15548a",null)),en=tn.exports,an=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white color-selection"},[a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Fecha de colaje")]),a("div",{staticClass:"grid-container row col-12"},[t._m(0),a("div",{staticClass:"col-7"},[a("datepicker",{attrs:{inline:!0,"monday-first":!0,language:t.attrs.lang,"bootstrap-styling":!1,"calendar-class":"calendar","disabled-dates":t.attrs.disabledDates,"full-month-name":!0},on:{selected:t.onSubmit},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1)]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(e){return t.$router.back()}}},[t._v("Volver")])])])])},nn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-5 text-center"},[a("h4",[t._v("Seleccione la fecha de colaje")])])}],on=a("fa33"),sn=a("2430"),rn=a("c1df"),cn={components:{Datepicker:on["a"]},data:function(){return{selectedDate:null,attrs:{disabledDates:{from:new Date,to:rn().subtract(1,"months").toDate()},lang:sn["a"]}}},computed:Object(u["a"])({},Object(b["c"])([]),{hasError:function(){return null==this.selectedDate}}),methods:Object(u["a"])({},Object(b["b"])(["selectCastDate"]),{onSubmit:function(t){this.selectedDate=t,this.hasError?this.$notify({message:"Seleccione la fecha de colaje",type:"danger"}):(this.selectCastDate(this.selectedDate),this.$router.push("wagon-position-selection"))}})},ln=cn,un=(a("f650"),Object(p["a"])(ln,an,nn,!1,null,null,null)),dn=un.exports,fn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row bg-white color-selection"},[t.loading?a("LoadingSpinner"):t._e(),a("h4",{staticClass:"col-12 text-center form-title"},[t._v("Posición en la vagoneta")]),a("div",{staticClass:"grid-container row col-12"},[a("div",{staticClass:"col-5 text-center d-flex flex-column"},[a("h4",[t._v("Seleccione la posición en la vagoneta")]),a("div",{staticClass:"legend d-flex flex-column text-left"},[a("p",{staticClass:"legend-title"},[t._v("Posición:")]),a("div",{staticClass:"legend-items d-flex justify-content-between"},t._l(t.legendItems,function(e,n){return a("p",{key:n,staticClass:"legend-item"},[t._v(t._s(e))])}),0)])]),a("div",{staticClass:"col-7"},[a("div",{staticClass:"row grid",class:{error:t.hasError}},t._l(t.wagonPositions,function(e){return a("div",{key:e,staticClass:"col-3 grid-item d-flex justify-content-center align-items-center bg-nude",class:{selected:t.selectedPosition===e},on:{click:function(){return t.selectedPosition=e}}},[a("p",[t._v(t._s(e))])])}),0)])]),a("div",{staticClass:"row w-100 mx-1 my-2"},[a("div",{staticClass:"col-12 footer"},[a("button",{staticClass:"btn btn-default btn-back",on:{click:function(){return t.$router.back()}}},[t._v("Volver")])])])],1)},pn=[],hn={components:{LoadingSpinner:m},data:function(){return{selectedPosition:null,wagonPositions:["IE","CE","DE","IB","CB","DB"],legendItems:["I: Izquierda","C: Centro","D: Derecha","E: Elevada","B: Baja"]}},computed:Object(u["a"])({},Object(b["c"])(["currentClassification","loading","operationError","operationSuccessful","productsPerWagon"]),{hasError:function(){return null==this.selectedPosition}}),methods:Object(u["a"])({},Object(b["b"])(["selectWagonPosition","saveClassification","createClassification"]),{onSubmit:function(){var t=this;this.selectWagonPosition(this.selectedPosition),this.saveClassification(this.currentClassification).then(function(e){t.$notify({message:"Se guardó la clasificación exitosamente",type:"info"});var a=t.productsPerWagon["".concat(e.currentOven.id,":").concat(e.productionWagon.id)];a=a.filter(function(t){return t.quantity>t.classifiedPieces}),0==a.length?(t.$notify({message:"Se clasificaron todos los productos de esta vagoneta",type:"info"}),t.$router.push("home")):(t.createClassification({oven:e.currentOven,wagon:e.productionWagon}),t.$router.push("quality-check"))})}}),watch:{selectedPosition:function(){this.selectedPosition&&this.onSubmit()}}},vn=hn,mn=(a("8dcb"),Object(p["a"])(vn,fn,pn,!1,null,"5ac546be",null)),bn=mn.exports,gn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rule-index bg-white"},[t.loading?a("LoadingSpinner"):t._e(),t._m(0),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-10"},[a("div",{staticClass:"row justify-content-between"},[a("b-col",{staticClass:"mx-2",attrs:{md:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Filtrar"}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:"Buscar Regla"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("button",{staticClass:"btn btn-default",on:{click:function(e){t.filter=""}}},[t._v("Borrar")])])],1)],1)],1),a("div",{staticClass:"col-3 text-right"},[a("router-link",{staticClass:"btn btn-success",attrs:{to:"/rules/new"}},[a("i",{staticClass:"ti-plus"}),t._v(" Nueva Regla")])],1)],1)])]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-10"},[a("b-table",{attrs:{"show-empty":"",responsive:"",stacked:"md",outlined:"",hover:"","primary-key":"id",items:t.allRules,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"head-variant":"light"},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"index",fn:function(e){return[t._v("\n          "+t._s((t.currentPage-1)*t.perPage+e.index+1)+"\n        ")]}},{key:"actions",fn:function(e){return[a("div",{staticClass:"d-flex justify-content-between row-actions"},[a("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/rules/"+e.item.id,title:"Editar"}},[a("i",{staticClass:"ti-pencil"})]),a("b-button",{attrs:{size:"sm",variant:"danger",title:"Eliminar"},on:{click:function(a){return t.confirmDelete(e.item)}}},[a("i",{staticClass:"ti-trash"})])],1)]}}])},[a("template",{slot:"empty"},[a("p",{staticClass:"text-center"},[t._v("Aún no hay registros")])]),a("template",{slot:"emptyfiltered"},[a("p",{staticClass:"text-center"},[t._v("No hay registros con esas características")])])],2),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)]),a("b-modal",{attrs:{id:"confirm-modal",size:"md",title:"Borrar Regla?"},on:{ok:function(e){return t.deleteRule(t.selectedRule)}},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.ok,i=e.hide;return[a("b-button",{attrs:{variant:"default"},on:{click:function(t){return i()}}},[t._v("Cancelar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return n()}}},[a("i",{staticClass:"ti-trash"}),t._v(" Eliminar")])]}}])},[a("template",{slot:"default"},[a("p",[t._v('¿ Desea borrar la regla "'+t._s(t.selectedRule.name)+'" ?')])])],2)],1)},Cn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center page-title"},[a("h4",[t._v("Mantenimiento de Reglas")])])}],yn={components:{LoadingSpinner:m},data:function(){return{fields:[{key:"index",label:"#"},{key:"name",label:"Nombre",tdClass:"w-20 text-truncate"},{key:"description",label:"Descripción",tdClass:"w-25 text-truncate"},{key:"consequent",label:"Consecuente",tdClass:"w-25"},{key:"actions",label:"Acciones",tdClass:"w-12"}],totalRows:1,currentPage:1,perPage:5,filter:"",selectedRule:""}},computed:Object(u["a"])({},Object(b["c"])(["loading","allRules"])),methods:Object(u["a"])({},Object(b["b"])(["loadAllRules","deleteRuleById"]),{onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},deleteRule:function(t){this.deleteRuleById(t),this.$notify({message:"Se eliminó la regla exitosamente",type:"info"})},confirmDelete:function(t){this.selectedRule=t,this.$bvModal.show("confirm-modal")}}),mounted:function(){0==this.allRules.length&&this.loadAllRules(),this.totalRows=this.allRules.length},watch:{allRules:function(){this.totalRows=this.allRules.length}}},_n=yn,On=(a("b75a"),Object(p["a"])(_n,gn,Cn,!1,null,null,null)),jn=On.exports,kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rule-detail bg-white"},[a("div",{staticClass:"row justify-content-center page-title"},[this.isNewRule?a("h4",[t._v("Nueva Regla")]):a("h4",[t._v("Detalle de regla")])]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-10"},[a("div",{staticClass:"row justify-content-between actions mb-2"},[a("div",{staticClass:"col-2"},[a("b-button",{staticClass:"ml-0",attrs:{variant:"default"},on:{click:function(e){return t.$router.push("/rules")}}},[a("i",{staticClass:"ti-arrow-left"}),t._v(" Volver\n              ")])],1),a("div",{staticClass:"col-4 d-flex justify-content-end"},[t.isNewRule?t._e():a("b-button",{attrs:{variant:"danger"},on:{click:t.confirmDelete}},[a("i",{staticClass:"ti-trash"}),t._v(" Eliminar\n              ")]),a("b-button",{attrs:{variant:"success"},on:{click:t.addRule}},[a("i",{staticClass:"ti-save"}),t._v(" Guardar\n              ")])],1)]),a("div",{staticClass:"row"},[a("fg-input",{staticClass:"col-6",attrs:{maxlength:"100",placeholder:"Nombre",label:"Nombre"},model:{value:t.ruleModel.name,callback:function(e){t.$set(t.ruleModel,"name",e)},expression:"ruleModel.name"}}),a("fg-input",{staticClass:"col-6",attrs:{tag:"textarea",maxlength:"255",placeholder:"Descripción (Opcional)",label:"Descripción"},model:{value:t.ruleModel.description,callback:function(e){t.$set(t.ruleModel,"description",e)},expression:"ruleModel.description"}})],1)])]),t._m(0),t._l(t.ruleModel.clauses,function(e,n){return a("div",{key:e.id,staticClass:"row clause-row"},[0!=n?a("div",{staticClass:"col-1 offset-1 pr-0"},[a("div",{staticClass:"row"},[a("b-form-select",{staticClass:"pl-1 connector",attrs:{required:"",options:t.connectors},model:{value:e.connector,callback:function(a){t.$set(e,"connector",a)},expression:"item.connector"}})],1)]):t._e(),a("div",{staticClass:"col-9",class:{"offset-2":0==n}},[a("div",{staticClass:"row w-100 justify-content-between"},[a("fg-input",{staticClass:"col-4",attrs:{required:"",placeholder:"Parámetro",maxlength:"50",uppercase:""},nativeOn:{input:function(e){return t.sanitizeParamName(e)}},model:{value:e.param,callback:function(a){t.$set(e,"param",a)},expression:"item.param"}},[a("template",{slot:"addonHelp"},[a("button",{staticClass:"form-text text-muted",on:{click:function(e){return t.goToSelectDefect(n)}}},[t._v("Seleccionar Defecto")])])],2),a("b-form-select",{staticClass:"col-2",attrs:{required:"",options:t.operators},model:{value:e.operator,callback:function(a){t.$set(e,"operator",a)},expression:"item.operator"}}),a("fg-input",{staticClass:"col-4 pr-0",attrs:{required:"",placeholder:"Valor",maxlength:"50",uppercase:""},nativeOn:{input:function(e){return t.sanitizeParamName(e)}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1)]),0!=n?a("button",{staticClass:"btn-delete-clause",on:{click:function(e){return t.deleteClause(n)}}},[a("i",{staticClass:"fa fa-times-circle"})]):t._e()])}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-10 offset-1 d-flex justify-content-end pr-4"},[a("button",{staticClass:"btn-add-clause mr-2",on:{click:t.addClause}},[a("i",{staticClass:"fa fa-plus-circle"})])])]),t._m(1),a("div",{staticClass:"row consequent-row"},[a("div",{staticClass:"col-9 offset-2"},[a("div",{staticClass:"row w-100 align-items-center"},[a("fg-input",{staticClass:"col-4 my-0",attrs:{required:"",placeholder:"Consecuente",maxlength:"50",uppercase:""},nativeOn:{input:function(e){return t.sanitizeParamName(e)}},model:{value:t.ruleModel.consequentName,callback:function(e){t.$set(t.ruleModel,"consequentName",e)},expression:"ruleModel.consequentName"}}),a("h5",{staticClass:"col-4 text-center my-0"},[t._v("=")]),a("fg-input",{staticClass:"col-4 my-0",attrs:{required:"",placeholder:"Valor",maxlength:"50",uppercase:""},model:{value:t.ruleModel.consequentValue,callback:function(e){t.$set(t.ruleModel,"consequentValue",e)},expression:"ruleModel.consequentValue"}})],1)])])],2)]),a("b-modal",{attrs:{id:"confirm-modal",size:"md",title:"Borrar Regla?"},on:{ok:t.deleteRule},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.ok,i=e.hide;return[a("b-button",{attrs:{variant:"default"},on:{click:function(t){return i()}}},[t._v("Cancelar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return n()}}},[a("i",{staticClass:"ti-trash"}),t._v(" Eliminar\n      ")])]}}])},[a("template",{slot:"default"},[a("p",[t._v('¿ Desea borrar la regla "'+t._s(t.ruleModel.name)+'" ?')])])],2)],1)},wn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 offset-1"},[a("h5",[t._v("SI")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 offset-1"},[a("h5",[t._v("ENTONCES")])])])}],Sn=(a("4917"),{data:function(){return{isNewRule:!1,ruleModel:Object(u["a"])({},this.defaultRule),defaultRule:{id:0,className:"com.pmvb.scpiback.data.models.Rule",name:"",description:"",clauses:[Object(u["a"])({},this.defaultClause)],factIndex:null},defaultClause:{id:1,connector:null,param:"",operator:null,value:""},operators:[{value:null,text:"Operador"},{value:"==",text:"="},{value:"!=",text:"<>"},">",">=","<","<="],connectors:[{value:null,text:"Conector"},{value:"&&",text:"Y"},{value:"||",text:"O"}]}},computed:Object(u["a"])({},Object(b["c"])(["loading","allRules","tmpRuleModel"])),methods:Object(u["a"])({},Object(b["b"])(["loadAllRules","deleteRuleById","saveRule","setTmpRuleModel"]),{refreshPage:function(t){if(this.tmpRuleModel)return this.ruleModel=Object(u["a"])({},this.tmpRuleModel),void(this.isNewRule=0==(this.tmpRuleModel.id||0));if(this.isNewRule="new"==t,this.isNewRule)this.ruleModel=Object(u["a"])({},this.defaultRule);else{var e=this.allRules.filter(function(e){return e.id==t});0!=e.length?this.ruleModel=e[0]:this.$router.replace("notfound")}},deleteRule:function(){var t=this;this.deleteRuleById(this.ruleModel).then(function(){t.$notify({message:"Se eliminó la regla exitosamente",type:"info"}),t.$router.push("/rules")})},confirmDelete:function(){this.$bvModal.show("confirm-modal")},beforeRouteUpdate:function(t,e,a){this.refreshPage(this.$route.params.ruleId),a()},addClause:function(){this.ruleModel.clauses.push(Object(u["a"])({},this.defaultClause,{id:this.ruleModel.clauses.length+1}))},deleteClause:function(t){this.ruleModel.clauses.splice(t,1)},addRule:function(){var t=this;this.validate()&&(this.setTmpRuleModel(null),this.saveRule(this.ruleModel).then(function(){t.$notify({message:"Se guardó la regla exitosamente",type:"info"}),t.$router.push("/rules")}))},validate:function(){return this.ruleModel.name?this.validateClauses()?!(!this.ruleModel.consequentName||!this.ruleModel.consequentValue)||(this.$notify({message:"Ingrese los datos del consecuente",type:"danger"}),!1):(this.$notify({message:"Corrija los errores en los términos de la regla",type:"danger"}),!1):(this.$notify({message:"Ingrese el nombre de la regla",type:"danger"}),!1)},validateClauses:function(){for(var t=this.ruleModel.clauses.length,e=0;e<t;e++){var a=this.ruleModel.clauses[e];if(!a.param)return this.$notify({message:"Ingrese el nombre del parámetro",type:"danger"}),!1;if(0!=e&&!a.connector)return this.$notify({message:"Seleccione el conector del parámetro",type:"danger"}),!1;if(!a.operator)return this.$notify({message:"Seleccione el operador del parámetro",type:"danger"}),!1;if(!a.value)return this.$notify({message:"Ingrese el valor del parámetro",type:"danger"}),!1}return!0},sanitizeParamName:function(t){t.target.value.match(/\s+/)&&this.$notify({message:"No se permiten espacios para los nombres de parámetros",type:"danger"}),t.target.value=t.target.value.replace(/\s+/g,"_")},goToSelectDefect:function(t){this.ruleModel.factIndex=t,this.setTmpRuleModel(this.ruleModel),this.$router.push("/rules/defect-area-selection")}}),mounted:function(){this.refreshPage(this.$route.params.ruleId)},beforeRouteLeave:function(t,e,a){"/rules"==t.path&&this.setTmpRuleModel(null),a()}}),xn=Sn,$n=(a("040d"),Object(p["a"])(xn,kn,wn,!1,null,null,null)),En=$n.exports,Ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-index row bg-white flex-column align-items-center pb-4"},[a("h4",[t._v("Reporte de Piezas")]),a("div",{staticClass:"selection-container col-8 pb-4"},[t._m(0),a("div",{staticClass:"row justify-content-center"},t._l(t.reports,function(e){return a("div",{key:e.name,staticClass:"bg-nude btn-report mx-3",on:{click:function(a){return t.$router.push(e.route)}}},[t._v(t._s(e.name))])}),0)])])},Dn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("h4",[t._v("Seleccione el tipo de reporte a generar")])])}],Pn={data:function(){return{reports:[{name:"CLASIFICADO",route:"/reports/classification"},{name:"ROTURAS",route:"/reports/breaks"}]}}},Rn=Pn,Tn=(a("8e2d"),Object(p["a"])(Rn,Ln,Dn,!1,null,null,null)),qn=Tn.exports,Mn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-classification row bg-white flex-column align-items-center pb-4"},[a("div",{staticClass:"selection-container col-12",class:{"pb-4":null==t.reportData}},[t._m(0),a("div",{staticClass:"row"},[a("b-form-select",{staticClass:"col-2 ml-5",attrs:{options:t.ovenList},model:{value:t.config.oven,callback:function(e){t.$set(t.config,"oven",e)},expression:"config.oven"}}),a("b-form-select",{staticClass:"col-2 offset-1",attrs:{options:t.shiftList},model:{value:t.config.shift,callback:function(e){t.$set(t.config,"shift",e)},expression:"config.shift"}}),a("b-form-select",{staticClass:"col-2 offset-1",attrs:{options:t.productOptions},model:{value:t.config.product,callback:function(e){t.$set(t.config,"product",e)},expression:"config.product"}}),a("b-button",{staticClass:"offset-1",attrs:{variant:"info"},on:{click:t.generateReport}},[t._v("Generar Reporte")])],1),t.reportData?a("div",{staticClass:"row justify-content-center mt-3"},[a("div",{staticClass:"col-12"},[a("b-table",{attrs:{"show-empty":"",responsive:"",stacked:"md",outlined:"",hover:"","primary-key":"id",items:t.reportData,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"head-variant":"light"},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"index",fn:function(e){return[t._v(t._s((t.currentPage-1)*t.perPage+e.index+1))]}}],null,!1,364955514)},[a("template",{slot:"empty"},[a("p",{staticClass:"text-center"},[t._v("Aún no hay registros")])]),a("template",{slot:"emptyfiltered"},[a("p",{staticClass:"text-center"},[t._v("No hay registros con esas características")])])],2),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("b-col",{staticClass:"offset-md-3 text-right",attrs:{md:"3"}},[a("download-excel",{staticClass:"btn btn-info",attrs:{data:t.reportData,fields:t.jsonFields,name:"reporteClasificacion.xls"}},[t._v("Exportar Reporte")])],1)],1)],1)]):t._e()])])},Wn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("h4",[t._v("Reporte de Clasificado de Piezas")])])}],In=a("bd86"),Fn=a("75fc"),zn={data:function(){return{config:{oven:"Horno",shift:"Turno",product:"Tipo Pieza"},reportData:null,fields:[{key:"index",label:"#"},{key:"productCode",label:"Producto"},{key:"colorId",label:"Color"},{key:"ovenId",label:"Horno"},{key:"assignedQCode",label:"Calidad Operario"},{key:"systemQCode",label:"Calidad Sistema"},{key:"quantity",label:"Cantidad"},{key:"defectCode",label:"Defecto"},{key:"zoneCode",label:"Zona"},{key:"wagonCode",label:"Vagoneta"},{key:"castOp",label:"Colador"},{key:"polishOp",label:"Pulidor"},{key:"coatOp",label:"Barnizador"}],totalRows:1,currentPage:1,perPage:10,filter:""}},computed:Object(u["a"])({},Object(b["c"])(["factoryOvens","shiftTypes","productModels","productList"]),{ovenList:function(){return["Horno","TODOS"].concat(Object(Fn["a"])(this.factoryOvens.map(function(t){return{value:t.id,text:t.code,oven:t}})))},productOptions:function(){return console.log(this.productList.reduce(function(t,e){return t.concat(e)},[]).map(function(t){return{value:t.id,text:t.name,product:t}})),["Tipo Pieza","TODOS"].concat(Object(Fn["a"])(this.productList.reduce(function(t,e){return t.concat(e)},[]).map(function(t){return{value:t.id,text:t.name,product:t}})))},shiftList:function(){return["Turno","TODOS"].concat(Object(Fn["a"])(this.shiftTypes.map(function(t){return{value:t.id,text:t.code,shift:t}})))},jsonFields:function(){return this.fields.slice(1).reduce(function(t,e){return Object(u["a"])({},t,Object(In["a"])({},e.label,e.key))},{"Clasificación Manual":"manualClassification"})}}),methods:Object(u["a"])({},Object(b["b"])(["loadShiftTypes","getClassificationReport","loadAllProducts"]),{generateReport:function(){var t=this;console.log("generar reporte"),this.validate()&&this.getClassificationReport({shiftId:this.config.shift,ovenId:this.config.oven,productId:this.config.product}).then(function(e){return t.processReportData(e)})},processReportData:function(t){this.reportData=t.map(function(t){var e=t.assignedQualityLevel&&t.assignedQualityLevel!=t.systemQualityLevel;return Object(u["a"])({},t,{manualClassification:e?"Sí":"-"})})},validate:function(){return"Horno"==this.config.oven?(this.$notify({message:"Seleccione el horno",type:"danger"}),!1):"Turno"==this.config.shift?(this.$notify({message:"Seleccione el turno",type:"danger"}),!1):"Tipo Pieza"!=this.config.product||(this.$notify({message:"Seleccione el tipo de pieza",type:"danger"}),!1)},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}),mounted:function(){0==P()(this.shiftTypes).length&&this.loadShiftTypes(),0==this.productList.length&&this.loadAllProducts()},watch:{reportData:function(){this.totalRows=this.reportData.length}}},An=zn,Qn=(a("7d73"),Object(p["a"])(An,Mn,Wn,!1,null,null,null)),Nn=Qn.exports,Vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-breaks row bg-white flex-column align-items-center pb-4"},[a("div",{staticClass:"selection-container col-12",class:{"pb-4":null==t.reportData}},[t._m(0),a("div",{staticClass:"row"},[a("b-form-select",{staticClass:"col-2 ml-5",attrs:{options:t.ovenList},model:{value:t.config.oven,callback:function(e){t.$set(t.config,"oven",e)},expression:"config.oven"}}),a("b-form-select",{staticClass:"col-2 offset-1",attrs:{options:t.shiftList},model:{value:t.config.shift,callback:function(e){t.$set(t.config,"shift",e)},expression:"config.shift"}}),a("b-form-select",{staticClass:"col-2 offset-1",attrs:{options:t.productList},model:{value:t.config.product,callback:function(e){t.$set(t.config,"product",e)},expression:"config.product"}}),a("b-button",{staticClass:"offset-1",attrs:{variant:"info"},on:{click:t.generateReport}},[t._v("Generar Reporte")])],1),t.reportData?a("div",{staticClass:"row justify-content-center mt-3"},[a("div",{staticClass:"col-12"},[a("b-table",{attrs:{"show-empty":"",responsive:"",stacked:"md",outlined:"",hover:"","primary-key":"id",items:t.reportData,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"head-variant":"light"},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"index",fn:function(e){return[t._v(t._s((t.currentPage-1)*t.perPage+e.index+1))]}}],null,!1,364955514)},[a("template",{slot:"empty"},[a("p",{staticClass:"text-center"},[t._v("Aún no hay registros")])]),a("template",{slot:"emptyfiltered"},[a("p",{staticClass:"text-center"},[t._v("No hay registros con esas características")])])],2),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("b-col",{staticClass:"offset-md-3 text-right",attrs:{md:"3"}},[a("download-excel",{staticClass:"btn btn-info",attrs:{data:t.reportData,fields:t.jsonFields,name:"reporteRotura.xls"}},[t._v("Exportar Reporte")])],1)],1)],1)]):t._e()])])},Bn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("h4",[t._v("Reporte de Clasificado de Piezas")])])}],Zn={data:function(){return{config:{oven:"Horno",shift:"Turno",product:"Tipo Pieza"},reportData:null,fields:[{key:"index",label:"#"},{key:"productCode",label:"Producto"},{key:"colorId",label:"Color"},{key:"ovenId",label:"Horno"},{key:"assignedQCode",label:"Calidad Operario"},{key:"systemQCode",label:"Calidad Sistema"},{key:"quantity",label:"Cantidad"},{key:"defectCode",label:"Defecto"},{key:"zoneCode",label:"Zona"},{key:"wagonCode",label:"Vagoneta"},{key:"castOp",label:"Colador"},{key:"polishOp",label:"Pulidor"},{key:"coatOp",label:"Barnizador"}],totalRows:1,currentPage:1,perPage:10,filter:""}},computed:Object(u["a"])({},Object(b["c"])(["factoryOvens","shiftTypes","productModels"]),{ovenList:function(){return["Horno","TODOS"].concat(Object(Fn["a"])(this.factoryOvens.map(function(t){return{value:t.id,text:t.code,oven:t}})))},productList:function(){return["Tipo Pieza","TODOS"].concat(Object(Fn["a"])(L()(this.productModels).reduce(function(t,e){return t.concat(e)},[]).map(function(t){return{value:t.id,text:t.name,product:t}})))},shiftList:function(){return["Turno","TODOS"].concat(Object(Fn["a"])(this.shiftTypes.map(function(t){return{value:t.id,text:t.code,shift:t}})))},jsonFields:function(){return this.fields.slice(1).reduce(function(t,e){return Object(u["a"])({},t,Object(In["a"])({},e.label,e.key))},{})}}),methods:Object(u["a"])({},Object(b["b"])(["loadShiftTypes","getBreaksReport"]),{generateReport:function(){var t=this;console.log("generar reporte"),this.validate()&&this.getBreaksReport({shiftId:this.config.shift,ovenId:this.config.oven,productId:this.config.product}).then(function(e){return t.reportData=e})},validate:function(){return"Horno"==this.config.oven?(this.$notify({message:"Seleccione el horno",type:"danger"}),!1):"Turno"==this.config.shift?(this.$notify({message:"Seleccione el turno",type:"danger"}),!1):"Tipo Pieza"!=this.config.product||(this.$notify({message:"Seleccione el tipo de pieza",type:"danger"}),!1)},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}),mounted:function(){0==P()(this.shiftTypes).length&&this.loadShiftTypes()},watch:{reportData:function(){this.totalRows=this.reportData.length}}},Hn=Zn,Un=(a("fcf7"),Object(p["a"])(Hn,Vn,Bn,!1,null,null,null)),Kn=Un.exports;r["default"].use(S["a"]);var Gn=[{path:"/",component:Ce,redirect:"/home",children:[{path:"home",name:"home",component:Kt},{path:"about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"model-selection",name:"model-selection",component:We},{path:"color-selection",name:"color-selection",component:Ne},{path:"polish-selection",name:"polish-selection",component:ra},{path:"coat-selection",name:"coat-selection",component:Ke},{path:"cast-selection",name:"cast-selection",component:ea},{path:"quality-check",name:"quality-check",component:pa},{path:"defect-area-selection",name:"defect-area-selection",component:Ca,alias:"/rules/defect-area-selection"},{path:"defect-selection",name:"defect-selection",component:wa,alias:"/rules/defect-selection"},{path:"pieceZone-selection",name:"pieceZone-selection",component:Da,alias:"/rules/pieceZone-selection"},{path:"quality-selection",name:"quality-selection",component:Wa},{path:"repair-selection",name:"repair-selection",component:Na},{path:"evaluation-selection",name:"evaluation-selection",component:Ka},{path:"quantity-selection",name:"quantity-selection",component:en},{path:"castDate-selection",name:"castDate-selection",component:dn},{path:"wagon-position-selection",name:"wagon-position-selection",component:bn},{path:"rules",name:"rules",component:jn},{path:"/rules/:ruleId",name:"rule-detail",component:En},{path:"reports",name:"reports-index",component:qn},{path:"/reports/classification",name:"classification-report",component:Nn},{path:"/reports/breaks",name:"breaks-report",component:Kn}]},{path:"/login",name:"login",component:De},{path:"*",name:"notfound",component:we}],Jn=Gn;r["default"].use(S["a"]);var Yn=new S["a"]({routes:Jn,linkActiveClass:"active"}),Xn=Yn,ti=a("5176"),ei=a.n(ti);r["default"].use(b["a"]);var ai=new b["a"].Store({state:{loggingIn:!1,loginError:null,loginSuccessful:!1,currentUser:null,factoryOvens:[],creatingShift:!1,tmpShiftCode:null,tmpStartWagons:{},startWagonsPerOven:{},currentShift:null,loading:!1,operationError:null,operationSuccessful:!1,currentClassification:{},productFamilies:{},productModels:{},classifications:[],colors:{},operators:[],defectAreas:[],defectsPerArea:{},tmpDefect:null,pieceZones:{},qualityLevels:[],repairTypes:[],evaluationTypes:[],redirectTo:"",allRules:[],tmpRuleModel:null,productsPerWagon:{},shiftTypes:[],productToEdit:null,productList:[]},mutations:{initialiseStore:function(t){var e=localStorage.getItem("scpi_store");e&&this.replaceState(ei()(t,JSON.parse(e)))},loginStart:function(t){return t.loggingIn=!0},loginFinish:function(t,e){t.loggingIn=!1,t.loginError=e.error,t.loginSuccessful=null==e.error,t.loginSuccessful&&(t.currentUser=e.user)},logout:function(t){t.loggingIn=!1,t.loginError=null,t.loginSuccessful=!1,t.currentUser=null},factoryOvensLoaded:function(t,e){t.factoryOvens=e.map(function(t){return Object(u["a"])({},t,{wagons:t.wagons[1]})})},addStartWagon:function(t,e){var a=e.wagon.padStart(2,"0");t.tmpStartWagons=Object(u["a"])({},t.tmpStartWagons,Object(In["a"])({},e.oven.id,e.oven.wagons.filter(function(t){return t.code==a})[0]))},operationStart:function(t){t.loading=!0,t.operationError=!1,t.operationSuccessful=!1},operationFinish:function(t){t.loading=!1,t.operationSuccessful=null==t.operationError},operationError:function(t,e){t.operationError=e,console.error(e)},createShift:function(t,e){t.loading=!1,t.operationError=e.error,t.operationSuccessful=null==e.error,t.operationSuccessful&&(t.currentShift=Object(u["a"])({className:"com.pmvb.scpiback.data.models.OperatorWorkShift"},e.data,{pieceClassifications:{estandar:0,comercial:0,rotura:0,resane:0,evaluacion:0}}),t.tmpShiftCode=null,t.startWagonsPerOven=Object(u["a"])({},t.tmpStartWagons),t.tmpStartWagons=null,t.creatingShift=!1,t.currentClassification=Object(u["a"])({},t.currentClassification,{currentOven:t.factoryOvens[0],currentWagon:t.startWagonsPerOven[t.factoryOvens[0].id]}))},loadProductFamilies:function(t,e){t.loading=!1,t.operationError=e.error,t.operationSuccessful=null==e.error,t.operationSuccessful&&(t.productFamilies=e.data)},loadProductModels:function(t,e){t.loading=!1,t.operationError=e.error,t.operationSuccessful=null==e.error,t.operationSuccessful&&(t.productModels=Object(u["a"])({},t.productModels,Object(In["a"])({},e.famId,e.data)))},selectCurrentModel:function(t,e){if(t.currentClassification=Object(u["a"])({},t.currentClassification,{productModel:e,product:e,productFamily:e.productFamily}),t.productToEdit){var a=t.currentClassification.currentOven,n=t.currentClassification.currentWagon,i=t.productsPerWagon["".concat(a.id,":").concat(n.id)],o=t.currentClassification.color,s=i.filter(function(t){return t.productModel.id==e.id&&t.color.id==o.id});if(s=s[0],console.log(s),"undefined"===typeof s){var r=Object(u["a"])({},t.productToEdit,{quantity:0,classifiedPieces:0,productModel:e,productFamily:e.productFamily});i=[r].concat(Object(Fn["a"])(i))}t.productsPerWagon=Object(u["a"])({},t.productsPerWagon,Object(In["a"])({},"".concat(a.id,":").concat(n.id),Object(Fn["a"])(i))),t.productToEdit=null}},colorsLoaded:function(t,e){t.colors=e.data},colorSelected:function(t,e){t.currentClassification=Object(u["a"])({},t.currentClassification,{color:e})},currentWagonSet:function(t,e){t.currentClassification=Object(u["a"])({},t.currentClassification,{currentWagon:e})},operatorsLoaded:function(t,e){t.operators=e},castOperatorSelected:function(t,e){var a=t.operators.filter(function(t){return t.code==e});a.length||(a=t.operators.filter(function(t){return"colador1"==t.code})[0],a=Object(u["a"])({},a,{code:e})),t.currentClassification=Object(u["a"])({},t.currentClassification,{castOperator:a})},coatOperatorSelected:function(t,e){var a=t.operators.filter(function(t){return t.code==e});a.length||(a=t.operators.filter(function(t){return"barnizador1"==t.code})[0],a=Object(u["a"])({},a,{code:e})),t.currentClassification=Object(u["a"])({},t.currentClassification,{coatOperator:a})},polishOperatorSelected:function(t,e){var a=t.operators.filter(function(t){return t.code==e});a.length||(a=t.operators.filter(function(t){return"pulidor1"==t.code})[0],a=Object(u["a"])({},a,{code:e})),t.currentClassification=Object(u["a"])({},t.currentClassification,{polishOperator:a})},classificationCreated:function(t,e){var a=e.oven,n=e.wagon,i=e.products;i||(i=t.productsPerWagon["".concat(a.id,":").concat(n.id)]),console.log(i);var o=ci(i,t.currentClassification);console.log(o),t.currentClassification=Object(u["a"])({},t.currentClassification,{workshift:t.currentShift,shift:t.currentShift.workshift,quantity:1,defects:[],currentWagon:n,productionWagon:n,currentOven:a,productionOven:Object(u["a"])({},a,{wagons:["java.util.ArrayList"].concat(Object(Fn["a"])(a.wagons))}),polishOperator:n.polishOperator,coatOperator:n.coatOperator,castOperator:n.castOperator,classifierOperator:t.currentUser,productFamily:o?o.productFamily:null,productModel:o?o.productModel:null,color:o?o.color:null})},classificationSaved:function(t,e){var a=e.sentData,n=e.classification;t.classifications.push(n),console.log(a,n);var i=a.currentOven,o=t.productsPerWagon["".concat(i.id,":").concat(a.currentWagon.id)],s=o.filter(function(t){return t.productModel.id==a.productModel.id&&t.color.id==a.color.id});if(s=s[0],"undefined"===typeof s)s={productFamily:a.productFamily,productModel:a.productModel,classifiedPieces:0,quantity:0,color:a.color,wagon:a.currentWagon,oven:i},s.classifiedPieces+=n.quantity,s.quantity=n.quantity,o=[s].concat(Object(Fn["a"])(o));else{s.classifiedPieces+=n.quantity,s.classifiedPieces>s.quantity&&(s.quantity=s.classifiedPieces);var r=o.indexOf(s);o[r]=s}t.productsPerWagon=Object(u["a"])({},t.productsPerWagon,Object(In["a"])({},"".concat(i.id,":").concat(a.currentWagon.id),Object(Fn["a"])(o))),console.log(t.productsPerWagon),t.currentClassification=Object(u["a"])({},t.currentClassification,{defects:[],quantity:1,assignedQualityLevel:null,systemQualityLevel:null});var c=t.currentShift.pieceClassifications,l=n.assignedQualityLevel||n.systemQualityLevel,d=l.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");t.currentShift=Object(u["a"])({},t.currentShift,{pieceClassifications:Object(u["a"])({},c,Object(In["a"])({},d,c[d]+n.quantity))})},qualityLevelsLoaded:function(t,e){t.qualityLevels=e},defectAreasLoaded:function(t,e){t.defectAreas=e},defectsLoaded:function(t,e){var a=e.area,n=e.defects;t.defectsPerArea=Object(u["a"])({},t.defectsPerArea,Object(In["a"])({},a.id,n))},defectAreaSelected:function(t,e){t.tmpDefect=Object(u["a"])({},t.tmpDefect,{defectArea:e})},defectSelected:function(t,e){t.tmpDefect=Object(u["a"])({},t.tmpDefect,{defectType:e})},pieceZonesLoaded:function(t,e){var a=e.key,n=e.data;t.pieceZones=Object(u["a"])({},t.pieceZones,Object(In["a"])({},a,n.map(function(t){return t.pieceZone})))},pieceZoneSelected:function(t,e){t.tmpDefect=Object(u["a"])({},t.tmpDefect,{affectedZone:e})},defectSaved:function(t,e){e=Object(u["a"])({},e,{className:"com.pmvb.scpiback.data.models.Defect"});var a=t.currentClassification.defects||[];a.push(e),t.currentClassification=Object(u["a"])({},t.currentClassification,{defects:a}),t.tmpDefect=null},qualitySelected:function(t,e){t.currentClassification=Object(u["a"])({},t.currentClassification,{assignedQualityLevel:e})},repairSelected:function(t,e){t.currentClassification=Object(u["a"])({},t.currentClassification,{repair:{repairType:e}})},evaluationSelected:function(t,e){t.currentClassification=Object(u["a"])({},t.currentClassification,{evaluation:{evaluationType:e}})},repairTypesLoaded:function(t,e){t.repairTypes=e},evaluationTypesLoaded:function(t,e){t.evaluationTypes=e},castDateSelected:function(t,e){t.currentClassification=Object(u["a"])({},t.currentClassification,{castingDate:e})},wagonPositionSelected:function(t,e){t.currentClassification=Object(u["a"])({},t.currentClassification,{wagonPosition:e})},qualityEvaluated:function(t,e){var a=e.qualityLevel,n=e.facts;t.currentClassification=Object(u["a"])({},t.currentClassification,{systemQualityLevel:a,systemFoundFacts:n})},rulesLoaded:function(t,e){t.allRules=e.map(function(t){return Object(u["a"])({},t,{consequent:"".concat(t.consequentName," = ").concat(t.consequentValue),clauses:ii(t)})})},ruleDeleted:function(t,e){t.allRules=t.allRules.filter(function(t){return t.id!=e.id})},ruleSaved:function(t,e){var a=e.old,n=e.rule;t.allRules=[].concat(Object(Fn["a"])(t.allRules.filter(function(t){return t.id!=n.id})),[Object(u["a"])({},a,n)])},quantitySelected:function(t,e){t.currentClassification=Object(u["a"])({},t.currentClassification,{quantity:e})},tmpRuleModelSet:function(t,e){t.tmpRuleModel=e?Object(u["a"])({},e):null},addedDefectToRule:function(t,e){var a=ri(e),n=t.tmpRuleModel?Object(Fn["a"])(t.tmpRuleModel.clauses):[];n.splice.apply(n,[t.tmpRuleModel.factIndex,0].concat(Object(Fn["a"])(a))),t.tmpRuleModel=Object(u["a"])({},t.tmpRuleModel,{clauses:n})},wagonProductsLoaded:function(t,e){var a=e.ovenId,n=e.wagonId,i=e.data;t.productsPerWagon=Object(u["a"])({},t.productsPerWagon,Object(In["a"])({},"".concat(a,":").concat(n),i))},shiftTypesLoaded:function(t,e){t.shiftTypes=e},shiftEnd:function(t){t.currentShift=null,t.currentClassification={}},startModelSelection:function(t){var e=t.currentClassification.currentOven,a=t.currentClassification.currentWagon;t.productToEdit=t.productsPerWagon["".concat(e.id,":").concat(a.id)].filter(function(e){return e.productModel.id==t.currentClassification.productModel.id&&e.color.id==t.currentClassification.color.id})[0],console.log(t.productToEdit)},loadAllModels:function(t,e){t.productList=e}},actions:{doLogin:function(t,e){var a=t.commit;a("loginStart"),_.post("login",Object(u["a"])({},e,{className:"java.util.Map"})).then(function(t){a("loginFinish",t.data)}).catch(function(t){a("loginFinish",{error:t.message})})},doLogout:function(t){var e=t.commit;e("logout")},addStartingWagon:function(t,e){var a=t.commit;a("addStartWagon",e)},loadFactoryOvens:function(t){var e=t.commit;e("operationStart"),_.get("/ovens").then(function(t){return e("factoryOvensLoaded",t.data)}).catch(function(t){return e("operationError",t)}).finally(function(){return e("operationFinish")})},createShift:function(t){var e=t.commit;e("operationStart"),_.post("/users/".concat(this.state.currentUser.id,"/create-shift"),{shiftCode:this.state.tmpShiftCode,className:"java.util.Map"}).then(function(t){return e("createShift",t)}).catch(function(t){return e("createShift",t.response.data)}).finally(function(){return e("operationFinish")})},loadProductFamilies:function(t){var e=t.commit;e("operationStart"),_.get("/product-families?not-empty").then(function(t){return e("loadProductFamilies",t)}).catch(function(t){return e("loadProductFamilies",{error:t})})},loadModelsForFamily:function(t,e){var a=t.commit;a("operationStart"),_.get("/product-families/".concat(e.id,"/models?not-empty")).then(function(t){return a("loadProductModels",Object(u["a"])({},t,{famId:e.id}))}).catch(function(t){return a("loadProductModels",{error:t})})},loadAllProducts:function(t){var e=t.commit;e("operationStart"),_.get("/products").then(function(t){return e("loadAllModels",t.data)}).catch(function(t){return e("operationError",t)}).finally(function(){return e("operationFinish")})},selectModel:function(t,e){var a=t.commit;a("selectCurrentModel",e)},loadColors:function(t){var e=t.commit;e("operationStart"),_.get("/colors").then(function(t){return e("colorsLoaded",t)}).catch(function(t){return e("operationError",t)}).finally(function(){return e("operationFinish")})},selectColor:function(t,e){var a=t.commit;a("colorSelected",e)},setCurrentWagon:function(t,e){var a=t.commit;a("currentWagonSet",e)},loadOperators:function(t){var e=t.commit;e("operationStart"),_.get("/users").then(function(t){return t.data.filter(function(t){return 3==t.role.id})}).then(function(t){return e("operatorsLoaded",t)}).catch(function(t){return e("operationError",t)}).finally(function(){return e("operationFinish")})},selectCastOperator:function(t,e){var a=t.commit;a("castOperatorSelected",e)},selectCoatOperator:function(t,e){var a=t.commit;a("coatOperatorSelected",e)},selectPolishOperator:function(t,e){var a=t.commit;a("polishOperatorSelected",e)},createClassification:function(t,e){var a=t.commit;a("classificationCreated",e)},saveClassification:function(t,e){var a=t.commit;return a("operationStart"),e=Object(u["a"])({},e,{currentOven:Object(u["a"])({},e.currentOven,{wagons:["java.util.ArrayList",e.currentOven.wagons]}),defects:["java.util.ArrayList",Object(Fn["a"])(e.defects||[])]}),_.post("/classification",e).then(function(t){return a("classificationSaved",{sentData:e,classification:t.data}),e}).catch(function(t){return a("operationError",t)}).finally(function(){return a("operationFinish")})},loadQualityLevels:function(t){var e=t.commit;e("operationStart"),_.get("/quality-levels").then(function(t){return e("qualityLevelsLoaded",t.data)}).catch(function(t){return e("operationError",t)}).finally(function(){return e("operationFinish")})},loadDefectAreas:function(t){var e=t.commit;e("operationStart"),_.get("/defect-areas?not-empty").then(function(t){return e("defectAreasLoaded",t.data)}).catch(function(t){return e("operationError",t)}).finally(function(){return e("operationFinish")})},loadDefectsForArea:function(t,e){var a=t.commit;a("operationStart"),_.get("/defect-areas/".concat(e.id,"/defects")).then(function(t){return a("defectsLoaded",{area:e,defects:t.data})}).catch(function(t){return a("operationError",t)}).finally(function(){return a("operationFinish")})},selectDefectArea:function(t,e){var a=t.commit;a("defectAreaSelected",e)},selectDefect:function(t,e){var a=t.commit;a("defectSelected",e)},loadPieceZones:function(t,e){var a=t.commit,n=e.key,i=e.family,o=e.model;a("operationStart"),_.get("/piece-zones/".concat(i,"/").concat(o)).then(function(t){return a("pieceZonesLoaded",{key:n,data:t.data})}).catch(function(t){return a("operationError",t)}).finally(function(){return a("operationFinish")})},selectPieceZone:function(t,e){var a=t.commit;a("pieceZoneSelected",e)},saveDefect:function(t,e){var a=t.commit;a("defectSaved",e)},selectQuality:function(t,e){var a=t.commit;a("qualitySelected",e)},selectRepairType:function(t,e){var a=t.commit;a("repairSelected",e)},selectEvaluationType:function(t,e){var a=t.commit;a("evaluationSelected",e)},loadRepairTypes:function(t){var e=t.commit;e("operationStart"),_.get("/repair-types").then(function(t){return e("repairTypesLoaded",t.data)}).catch(function(t){return e("operationError",t)}).finally(function(){return e("operationFinish")})},loadEvaluationTypes:function(t){var e=t.commit;e("operationStart"),_.get("/evaluation-types").then(function(t){return e("evaluationTypesLoaded",t.data)}).catch(function(t){return e("operationError",t)}).finally(function(){return e("operationFinish")})},selectCastDate:function(t,e){var a=t.commit;a("castDateSelected",e)},selectWagonPosition:function(t,e){var a=t.commit;a("wagonPositionSelected",e)},systemEvaluate:function(t,e){var a=t.commit;a("operationStart");var n=["java.util.ArrayList",Object(Fn["a"])(e||[])];return _.post("/quality-check",n).then(function(t){return a("qualityEvaluated",t.data)}).catch(function(t){return a("operationError",t)}).finally(function(){return a("operationFinish")})},loadAllRules:function(t){var e=t.commit;e("operationStart"),_.get("/rules").then(function(t){return e("rulesLoaded",t.data)}).catch(function(t){return e("operationError",t)}).finally(function(){return e("operationFinish")})},deleteRuleById:function(t,e){var a=t.commit;return a("operationStart"),_.delete("/rules/".concat(e.id)).then(function(t){return a("ruleDeleted",t.data)}).catch(function(t){return a("operationError",t)}).finally(function(){return a("operationFinish")})},saveRule:function(t,e){var a=t.commit;a("operationStart"),oi(e),e.consequent="".concat(e.consequentName," = ").concat(e.consequentValue);var n="/rules";return e.id&&(n+="/".concat(e.id)),_.post(n,e).then(function(t){return a("ruleSaved",{old:e,rule:t.data})}).catch(function(t){return a("operationError",t)}).finally(function(){return a("operationFinish")})},selectClassifiedQuantity:function(t,e){var a=t.commit;a("quantitySelected",e)},setTmpRuleModel:function(t,e){var a=t.commit;a("tmpRuleModelSet",e)},addDefectToRule:function(t,e){var a=t.commit;a("addedDefectToRule",e)},loadProductsForWagon:function(t,e){var a=t.commit,n=e.ovenId,i=e.wagonId;return a("operationStart"),_.get("/ovens/".concat(n,"/wagon-products/").concat(i)).then(function(t){return a("wagonProductsLoaded",{ovenId:n,wagonId:i,data:t.data}),t.data}).catch(function(t){return a("operationError",t)}).finally(function(){return a("operationFinish")})},loadShiftTypes:function(t){var e=t.commit;return e("operationStart"),_.get("/shift-types").then(function(t){return e("shiftTypesLoaded",t.data)}).catch(function(t){return e("operationError",t)}).finally(function(){return e("operationFinish")})},endShift:function(t){var e=t.commit;e("shiftEnd")},getClassificationReport:function(t,e){var a=t.commit,n=e.shiftId,i=e.ovenId,o=e.productId;a("operationStart");var s="/reports/classification?";return n="TODOS"==n?"all":n,i="TODOS"==i?"all":i,o="TODOS"==o?"all":o,s+="shift=".concat(n,"&oven=").concat(i,"&product=").concat(o),_.get(s).then(function(t){var e=t.data,a=e.report,n=e.ovenIds;return a=a[1],console.log(t.data,a,n),a=a.map(function(t){return t.defects=t.defects[1],console.log(t.product),Object(u["a"])({},t,{productCode:t.product.code,colorId:t.color.id,ovenId:n[t.id],assignedQCode:t.assignedQualityLevel?t.assignedQualityLevel.code:"",systemQCode:t.systemQualityLevel?t.systemQualityLevel.code:"",defectCode:t.defects.length?t.defects[0].defectType.code:"",zoneCode:t.defects.length?t.defects[0].affectedZone.code:"",wagonCode:t.productionWagon.code,castOp:t.castOperator.code,polishOp:t.polishOperator.code,coatOp:t.coatOperator.code})}),a}).catch(function(t){return a("operationError",t)}).finally(function(){return a("operationFinish")})},getBreaksReport:function(t,e){var a=t.commit,n=e.shiftId,i=e.ovenId,o=e.productId;a("operationStart");var s="/reports/breaks?";return n="TODOS"==n?"all":n,i="TODOS"==i?"all":i,o="TODOS"==o?"all":o,s+="shift=".concat(n,"&oven=").concat(i,"&product=").concat(o),_.get(s).then(function(t){var e=t.data,a=e.report,n=e.ovenIds;return a=a[1],console.log(t.data,a,n),a=a.map(function(t){return t.defects=t.defects[1],console.log(t.product),Object(u["a"])({},t,{productCode:t.product.code,colorId:t.color.id,ovenId:n[t.id],assignedQCode:t.assignedQualityLevel?t.assignedQualityLevel.code:"",systemQCode:t.systemQualityLevel?t.systemQualityLevel.code:"",defectCode:t.defects.length?t.defects[0].defectType.code:"",zoneCode:t.defects.length?t.defects[0].affectedZone.code:"",wagonCode:t.productionWagon.code,castOp:t.castOperator.code,polishOp:t.polishOperator.code,coatOp:t.coatOperator.code})}),a}).catch(function(t){return a("operationError",t)}).finally(function(){return a("operationFinish")})},startModelSelection:function(t){var e=t.commit;e("startModelSelection")}}});function ni(t){var e=t;return"true"!=t&&"false"!=t||(e="true"==t?"VERDADERO":"FALSO"),e}function ii(t){var e=[],a=t.antecedent.split(/\s+/);e.push({param:a[0],operator:a[1],value:ni(a[2])}),a.splice(0,3);while(a.length){var n=a.splice(0,4);if(4==n.length){var i=ni(n[3]);e.push({connector:n[0],param:n[1],operator:n[2],value:i})}}return e}function oi(t){var e=t.clauses.map(function(t,e){var a=t.connector&&0!=e?" ".concat(t.connector," "):"";return"".concat(a).concat(t.param," ").concat(t.operator," ").concat(si(t.value))}).join("");console.log(e),t.antecedent=e}function si(t){return"VERDADERO"==t&&(t="true"),"FALSO"==t&&(t="false"),"true"==t||"false"==t?"true"==t:isNaN(Number(t))?'"'.concat(t,'"'):Number(t)}function ri(t){var e=[];return e.push({connector:"&&",param:t.defectType.factName,operator:"==",value:"VERDADERO"}),console.log(e),e}function ci(t,e){if(e.productModel){var a=t.filter(function(t){return t.productModel.id==e.productModel.id});if(0!=a.length)return a[0]}var n=t.filter(function(t){return t.quantity>t.classifiedPieces});return console.log(t,n),n.length>0?n[0]:null}var li=a("7346"),ui=a.n(li),di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar",attrs:{"data-background-color":t.backgroundColor,"data-active-color":t.activeColor}},[a("div",{staticClass:"sidebar-wrapper",attrs:{id:"style-3"}},[a("div",{staticClass:"logo"},[a("a",{staticClass:"simple-text",attrs:{href:"#"}},[t._v("\n        "+t._s(t.title)+"\n      ")])]),t._t("default"),a("ul",{staticClass:"nav"},[t._t("links",t._l(t.sidebarLinks,function(t,e){return a("sidebar-link",{key:e,attrs:{to:t.path,name:t.name,icon:t.icon}})}))],2),a("moving-arrow",{attrs:{"move-y":t.arrowMovePx}})],2)])},fi=[],pi=(a("ac6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"moving-arrow",style:t.arrowStyle})}),hi=[],vi={props:{moveY:{type:Number,default:0}},computed:{arrowStyle:function(){return{transform:"translate3d(0px, ".concat(this.moveY,"px, 0px)")}}}},mi=vi,bi=(a("1749"),Object(p["a"])(mi,pi,hi,!1,null,null,null)),gi=bi.exports,Ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.tag,t._b({tag:"component",staticClass:"nav-item",attrs:{tag:"li"},nativeOn:{click:function(e){return t.hideSidebar(e)}}},"component",t.$attrs,!1),[a("a",{staticClass:"nav-link"},[t._t("default",[t.icon?a("i",{class:t.icon}):t._e(),a("p",[t._v(t._s(t.name))])])],2)])},yi=[],_i={name:"sidebar-link",inheritAttrs:!1,inject:{autoClose:{default:!0},addLink:{default:function(){}},removeLink:{default:function(){}}},props:{name:String,icon:String,tag:{type:String,default:"router-link"}},methods:{hideSidebar:function(){this.autoClose&&this.$sidebar.displaySidebar(!1)},isActive:function(){return this.$el.classList.contains("active")}},mounted:function(){this.addLink&&this.addLink(this)},beforeDestroy:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeLink&&this.removeLink(this)}},Oi=_i,ji=Object(p["a"])(Oi,Ci,yi,!1,null,null,null),ki=ji.exports,wi={props:{title:{type:String,default:"SCPI"},backgroundColor:{type:String,default:"black",validator:function(t){var e=["white","black","darkblue"];return-1!==e.indexOf(t)}},activeColor:{type:String,default:"success",validator:function(t){var e=["primary","info","success","warning","danger"];return-1!==e.indexOf(t)}},sidebarLinks:{type:Array,default:function(){return[]}},autoClose:{type:Boolean,default:!0}},provide:function(){return{autoClose:this.autoClose,addLink:this.addLink,removeLink:this.removeLink}},components:{MovingArrow:gi,SidebarLink:ki},computed:{arrowMovePx:function(){return this.linkHeight*this.activeLinkIndex}},data:function(){return{linkHeight:65,activeLinkIndex:0,windowWidth:0,isWindows:!1,hasAutoHeight:!1,links:[]}},methods:{findActiveLink:function(){var t=this;this.links.forEach(function(e,a){e.isActive()&&(t.activeLinkIndex=a)})},addLink:function(t){var e=this.$slots.links.indexOf(t.$vnode);this.links.splice(e,0,t)},removeLink:function(t){var e=this.links.indexOf(t);e>-1&&this.links.splice(e,1)}},mounted:function(){this.$watch("$route",this.findActiveLink,{immediate:!0})}},Si=wi,xi=Object(p["a"])(Si,di,fi,!1,null,null,null),$i=xi.exports,Ei={showSidebar:!1,sidebarLinks:[],displaySidebar:function(t){this.showSidebar=t}},Li={install:function(t){var e=new t({data:{sidebarStore:Ei}});t.prototype.$sidebar=e.sidebarStore,t.component("side-bar",$i),t.component("sidebar-link",ki)}},Di=Li,Pi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group",class:{"input-group":t.hasIcon}},[t._t("label",[t.label?a("label",{staticClass:"control-label"},[t._v(t._s(t.label))]):t._e()]),t._t("addonLeft",[t.addonLeftIcon?a("span",{staticClass:"input-group-prepend"},[a("i",{staticClass:"input-group-text",class:t.addonLeftIcon})]):t._e()]),a(t.tag,t._b({directives:[{name:"uppercase",rawName:"v-uppercase",value:t.uppercase,expression:"uppercase"}],tag:"component",staticClass:"form-control",class:t.inputClass,attrs:{value:t.value,"aria-describedby":"addon-right addon-left"},on:{input:function(e){return t.$emit("input",e.target.value)}}},"component",t.$attrs,!1)),t._t("default"),t._t("addonRight",[t.addonRightIcon?a("span",{staticClass:"input-group-append"},[a("i",{staticClass:"input-group-text",class:t.addonRightIcon})]):t._e()]),t._t("addonHelp",[t.helpText?a("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.helpText))]):t._e()])],2)},Ri=[],Ti={inheritAttrs:!1,name:"fg-input",props:{label:String,value:[String,Number],addonRightIcon:String,addonLeftIcon:String,tag:{type:String,default:"input"},inputClass:{type:String,default:""},helpText:String,uppercase:Boolean},computed:{hasIcon:function(){var t=this.$slots,e=t.addonRight,a=t.addonLeft;return void 0!==e||void 0!==a||void 0!==this.addonRightIcon||void 0!==this.addonLeftIcon}}},qi=Ti,Mi=Object(p["a"])(qi,Pi,Ri,!1,null,null,null),Wi=Mi.exports,Ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.tag,{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],tag:"component",staticClass:"dropdown",class:{show:t.isOpen},on:{click:t.toggleDropDown}},[a("a",{staticClass:"dropdown-toggle btn-rotate",class:t.titleClasses,attrs:{"data-toggle":"dropdown"}},[t._t("title",[a("i",{class:t.icon}),a("span",{staticClass:"notification"},[t._v(t._s(t.title)+"\n        "),a("b",{staticClass:"caret"})])])],2),a("ul",{staticClass:"dropdown-menu",class:{show:t.isOpen}},[t._t("default")],2)])},Fi=[],zi={props:{tag:{type:String,default:"li"},title:String,icon:String,titleClasses:[String,Object,Array]},data:function(){return{isOpen:!1}},methods:{toggleDropDown:function(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},closeDropDown:function(){this.isOpen=!1,this.$emit("change",!1)}}},Ai=zi,Qi=Object(p["a"])(Ai,Ii,Fi,!1,null,null,null),Ni=Qi.exports,Vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table",class:t.tableClass},[a("thead",[t._t("columns",t._l(t.columns,function(e){return a("th",{key:e},[t._v(t._s(e))])}))],2),a("tbody",t._l(t.data,function(e,n){return a("tr",{key:n},[t._t("default",t._l(t.filteredColumns(e),function(n,i){return a("td",{key:i},[t._v("\n        "+t._s(t.itemValue(e,n))+"\n      ")])}),{row:e})],2)}),0)])},Bi=[],Zi={name:"paper-table",props:{columns:Array,data:Array,type:{type:String,default:"striped"},title:{type:String,default:""},subTitle:{type:String,default:""}},computed:{tableClass:function(){return"table-".concat(this.type)}},methods:{hasValue:function(t,e){return"undefined"!==t[e.toLowerCase()]},itemValue:function(t,e){return t[e.toLowerCase()]},filteredColumns:function(t){return this.columns.filter(function(e){return e.hasValue(t,e)})}}},Hi=Zi,Ui=Object(p["a"])(Hi,Vi,Bi,!1,null,null,null),Ki=(Ui.exports,function(){var t,e,a,n=this,i=n.$createElement,o=n._self._c||i;return o(n.tag,{tag:"component",staticClass:"btn",class:[{"btn-round":n.round},{"btn-block":n.block},{"btn-just-icon":n.icon},(t={},t["btn-"+n.type]=n.type&&!n.outline,t),(e={},e["btn-outline-"+n.type]=n.type&&n.outline,e),(a={},a["btn-"+n.size]=n.size,a),{"btn-link":n.simple}],attrs:{type:n.nativeType,disabled:n.disabled||n.loading}},[n._t("loading",[n.loading?o("i",{staticClass:"fa fa-spinner fa-spin"}):n._e()]),n._t("default")],2)}),Gi=[],Ji={name:"p-button",props:{tag:{type:String,default:"button"},round:Boolean,icon:Boolean,outline:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,type:{type:String,default:"default"},nativeType:{type:String,default:"button"},size:{type:String,default:""},simple:Boolean}},Yi=Ji,Xi=Object(p["a"])(Yi,Ki,Gi,!1,null,null,null),to=Xi.exports,eo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[t.$slots.image?a("div",{staticClass:"card-image"},[t._t("image")],2):t._e(),t.$slots.header||t.title?a("div",{staticClass:"card-header"},[t._t("header",[a("h4",{staticClass:"card-title"},[t._v(t._s(t.title))]),t.subTitle?a("p",{staticClass:"card-category"},[t._v(t._s(t.subTitle))]):t._e()])],2):t._e(),t.$slots.default?a("div",{staticClass:"card-body"},[t._t("default")],2):t._e(),t._t("raw-content"),t.$slots.footer?a("div",{staticClass:"card-footer"},[a("hr"),t._t("footer")],2):t._e()],2)},ao=[],no={name:"card",props:{title:String,subTitle:String}},io=no,oo=Object(p["a"])(io,eo,ao,!1,null,null,null),so=oo.exports,ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("card",[a("template",{slot:"header"},[t.$slots.title||t.title?a("h4",{staticClass:"card-title"},[t._t("title",[t._v("\n        "+t._s(t.title)+"\n      ")])],2):t._e(),a("p",{staticClass:"card-category"},[t._t("subTitle",[t._v("\n        "+t._s(t.subTitle)+"\n      ")])],2)]),a("div",[a("div",{staticClass:"ct-chart",attrs:{id:t.chartId}}),a("div",{staticClass:"footer"},[a("div",{staticClass:"chart-legend"},[t._t("legend")],2),a("hr"),a("div",{staticClass:"stats"},[t._t("footer")],2),a("div",{staticClass:"pull-right"})])])],2)},co=[],lo=(a("6b54"),{name:"chart-card",components:{Card:so},props:{footerText:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""},chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:function(){return{}}},chartData:{type:Object,default:function(){return{labels:[],series:[]}}}},data:function(){return{chartId:"no-id"}},methods:{initChart:function(t){var e="#".concat(this.chartId);t[this.chartType](e,this.chartData,this.chartOptions)},updateChartId:function(){var t=(new Date).getTime().toString(),e=this.getRandomInt(0,t);this.chartId="div_".concat(e)},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},mounted:function(){var t=this;this.updateChartId(),a.e("chunk-2d219ff9").then(a.t.bind(null,"ba48",7)).then(function(e){var a=e.default||e;t.$nextTick(function(){t.initChart(a)})})}}),uo=lo,fo=Object(p["a"])(uo,ro,co,!1,null,null,null),po=(fo.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("card",[a("div",[a("div",{staticClass:"row"},[t.$slots.header?a("div",{staticClass:"col-5"},[t._t("header")],2):t._e(),t.$slots.content?a("div",{staticClass:"col-7"},[t._t("content")],2):t._e()]),t.$slots.footer?a("div",[a("hr"),t._t("footer")],2):t._e()])])}),ho=[],vo={name:"stats-card",components:{Card:so}},mo=vo,bo=Object(p["a"])(mo,po,ho,!1,null,null,null),go=(bo.exports,{install:function(t){t.component("fg-input",Wi),t.component("drop-down",Ni),t.component("p-button",to)}}),Co=go,yo=(a("96cf"),a("3b8d")),_o=a("c7db"),Oo={install:function(t){t.directive("click-outside",_o["directive"]),t.directive("uppercase",{inserted:function(t,e,a){e.value&&t.addEventListener("input",function(){var t=Object(yo["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.target.value=e.target.value.toUpperCase(),a.context.$emit("input",e.target.value.toUpperCase());case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}})}},jo=Oo,ko=(a("54ba"),a("f9e3"),a("0e00"),a("e454"),{install:function(t){t.use(Co),t.use(jo),t.use(Di),t.use(ui.a)}}),wo=a("9f7b"),So=a.n(wo),xo=a("2ee4"),$o=a.n(xo),Eo=a("f186"),Lo=a.n(Eo),Do=a("1dce"),Po=a.n(Do),Ro=a("1bdd");a("72e0"),a("2dd8"),a("da93"),a("a245"),a("15f5");r["default"].config.productionTip=!1,r["default"].use(ko),r["default"].use(So.a),r["default"].use($o.a),r["default"].use(Lo.a),r["default"].use(Po.a),r["default"].component("downloadExcel",Ro["a"]),new r["default"]({router:Xn,store:ai,render:function(t){return t(w)},beforeCreate:function(){this.$store.commit("initialiseStore")}}).$mount("#app"),r["default"].prototype.$http=_,ai.subscribe(function(t,e){localStorage.setItem("scpi_store",s()(e))})},"5c0b":function(t,e,a){"use strict";var n=a("5e27"),i=a.n(n);i.a},"5dc2":function(t,e,a){},"5e27":function(t,e,a){},"60d1":function(t,e,a){},"617b":function(t,e,a){},6297:function(t,e,a){},"697d":function(t,e,a){},"7c5b":function(t,e,a){},"7d59":function(t,e,a){},"7d73":function(t,e,a){"use strict";var n=a("2eda"),i=a.n(n);i.a},"7dc4":function(t,e,a){},"7e0e":function(t,e,a){},8173:function(t,e,a){},"81f0":function(t,e,a){},"8dcb":function(t,e,a){"use strict";var n=a("60d1"),i=a.n(n);i.a},"8e2d":function(t,e,a){"use strict";var n=a("c5a8"),i=a.n(n);i.a},"90b5":function(t,e,a){},9272:function(t,e,a){"use strict";var n=a("81f0"),i=a.n(n);i.a},"92c1":function(t,e,a){},9825:function(t,e,a){},"98ad":function(t,e,a){},b0f1:function(t,e,a){},b6d0:function(t,e,a){},b75a:function(t,e,a){"use strict";var n=a("0570"),i=a.n(n);i.a},bcc9:function(t,e,a){},bd88:function(t,e,a){"use strict";var n=a("0b1d"),i=a.n(n);i.a},bf28:function(t,e,a){"use strict";var n=a("98ad"),i=a.n(n);i.a},c164:function(t,e,a){"use strict";var n=a("d355"),i=a.n(n);i.a},c5a8:function(t,e,a){},c6bb:function(t,e,a){"use strict";var n=a("b6d0"),i=a.n(n);i.a},cd51:function(t,e,a){"use strict";var n=a("8173"),i=a.n(n);i.a},ce7d:function(t,e,a){"use strict";var n=a("7e0e"),i=a.n(n);i.a},cf50:function(t,e,a){"use strict";var n=a("6297"),i=a.n(n);i.a},d355:function(t,e,a){},d55a:function(t,e,a){"use strict";var n=a("697d"),i=a.n(n);i.a},e446:function(t,e,a){},e454:function(t,e,a){},e4be:function(t,e,a){},e82b:function(t,e,a){"use strict";var n=a("7dc4"),i=a.n(n);i.a},f088:function(t,e,a){"use strict";var n=a("0da9"),i=a.n(n);i.a},f650:function(t,e,a){"use strict";var n=a("92c1"),i=a.n(n);i.a},f87b:function(t,e,a){},fcf7:function(t,e,a){"use strict";var n=a("0ffe"),i=a.n(n);i.a}});
//# sourceMappingURL=app.5e8f0240.js.map